{"version":3,"sources":["pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png","components/Navegacion_Admin/Sidebar.js","components/Layout_admin/LayoutAdmin.js","context/carritoContext.js","config/axios.js","components/Navegacion/RightMenu.js","components/Navegacion/Navegacion.js","components/Categorias/Categorias.js","components/Footer/Footer.js","components/Layout/Layout.js","pages/users/geolocalizacion.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/services/registrar_promocion.js","pages/admin/Promociones/services/actualizar_promocion.js","pages/admin/Promociones/promociones.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/apartado.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/clientes.js","pages/users/Carusel_ofertas/carousel.js","pages/users/Productos/consulta_productos.js","pages/users/Ofertas/ofertasHome.js","pages/users/Datos_tienda/datos_tienda.js","pages/users/Registro/registro.js","pages/users/Login/login.js","components/Firebase/firebase.js","config/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Vista_Producto/subs/datos_cliente.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Vista_Producto/vista_producto.js","pages/users/error404.js","config/routes.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js"],"names":["module","exports","Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","Sidebar","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","reload","danger","LoadRoutes","routes","map","route","index","path","exact","component","MenuContext","createContext","MenuProvider","children","useState","active","setActive","Provider","value","clienteAxios","axios","create","baseURL","SubMenu","Menu","RightMenu","props","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","LogoutOutlined","Search","Input","Header","withRouter","useContext","visible","setVisible","setTienda","carrito","setCarrito","setOfertas","a","get","_id","headers","Authorization","then","res","data","articulos","catch","console","log","forEach","datos","useEffect","obtenerOfertas","obtenerQuienesSomos","obtenerCarrito","imagenLogo","alt","placeholder","onSearch","history","push","width","inlineIndent","count","fontSize","MenuOutlined","color","title","placement","closable","onClose","categorias","setCategorias","generos","setGeneros","loading","setLoading","obtenerCategorias","obtenerGeneros","categorias_nav","categoria","onTitleClick","subcCategoria","sub","categorias_generos","spinning","Footer","Style","FooterPage","face","setFace","insta","setInsta","twitter","setTwitter","imagenCorp","setImagenCorp","nombreCorp","setNombreCorp","politicas","setPoliticas","telefono","setTelefono","accion","setAccion","linkFace","linkInsta","linkTweeter","err","end","id","UserOutlined","KeyOutlined","textAlign","href","target","FacebookFilled","InstagramFilled","TwitterCircleFilled","Geolocalizacion","center","titleLayer","zoom","apikey","nombreMarcador","tituloheader","draggable","L","mapquest","container","DomUtil","_leaflet_id","layers","tileLayer","marker","icons","bindPopup","addTo","addControl","control","role","Spin","tip","Component","PoliticasEnvio","datosNegocio","setReloadInfo","disabled","setDisabled","setDatos","setControl","idTienda","setIdTienda","Form","useForm","form","setFieldsValue","costoEnvio","promocionEnvio","descuento","response","status","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","onChange","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","RegistroTienda","upload","setUpload","files","setFiles","setImagen","undefined","ubicacion","lat","lng","calle_numero","direccion","cp","colonia","ciudad","estado","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","UploadOutlined","labelCol","rules","required","noStyle","valuePropName","init","menubar","plugins","toolbar","onEditorChange","content","editor","AlertTienda","action","setAction","setDatosNegocio","reloadInfo","politicasEnvio","setPoliticasEnvio","setLat","setLng","drawnerClose","obtenerPoliticasEnvio","screen","bodyStyle","paddingBottom","footer","margin","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","confirm","Modal","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","delete","prev","setPrev","render","url","ExclamationCircleOutlined","okText","okType","cancelText","onOk","DeleteOutlined","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","obtenerTalla","resetFields","eliminarTalla","idtalla","tallas","minWidth","gutter","RegistrarNumero","numero","subirNumero","obtenerNumero","eliminarNumero","idnumero","numeros","Option","Select","Step","Steps","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","useRef","current","setCurrent","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","reloadProductos","item","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","styles","reactCSS","default","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","next","obtenerSubcategorias","codigo","precio","select","setSelect","genero","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemCategoria","addItemSubCategoria","onCategoriaChange","onSubCategoriaChange","steps","dropdownRender","menu","flexWrap","flex","PlusOutlined","initialValues","ref","min","Group","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","descripcion","colorHex","obtenerValores","subirDatos","defaultActiveKey","tab","pagination","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","formatoMexico","number","toString","replace","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoHora","hora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","marginBottom","queryString","search","productosRender","setProductosRender","setReload","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","maxWidth","actions","todos","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","IDpedido","datosPedido","setPedido","pedidoID","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","handleCancel","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","setProducto","promocion","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","initialLoad","pageStart","loadMore","concat","useWindow","threshold","dataSource","renderItem","avatar","max","tipFormatter","porcentaje","tooltipVisible","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","setSearch","productosFiltrados","setProductosFiltrados","filter","includes","idProducto","showDeleteConfirm","eliminarPromocion","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","apellido","tipoEntrega","Text","Typography","DetalleApartado","detalleApartado","setEstado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","columns","dataIndex","fixed","text","rowKey","scroll","x","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","actualizar","setActualizar","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","antdProps","crearCarousel","prodcutoCarousel","setProductoCarousel","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","centered","blogList","setReloadBlog","showDrawer","setInfoBlog","deleteBlog","blog","itemLayout","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","i","enviarDatos","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","Clientes","clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","setIndex","carousels","setCarousels","esPromocion","setEsPromocion","obtenerCarousel","obtenerPromociones","carousel","backgroundImage","activeIndex","onSelect","selectedIndex","ConsultaProductos","propiedades","minHeight","backgrounddivor","Datos_tienda","setDireccion","infor","setInfo","tailLayout","values","remember","Password","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","photoURL","displayname","displayName","uid","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","idarticulo","activo","arr","subtotal","articulo","idproducto","DatosCliente","clienteID","controlBoton","setControlBoton","obtenerDatosUser","ModalApartado","tipoEnvio","setTipoEnvio","AgregarApartado","ListaCarrito","setMedida","setCantidad","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","cantidadChange","actualizarCantidad","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","ghost","obtenerSubtotal","ExportOutlined","setCliente","nuevoCarrito","setNuevoCarrito","setTotal","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","fontWeight","Productos","BlogList","BlogsList2","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","ShowBlog","ObtenerBlog","useParams","Producto","faBus","Pedido","setElige","Apartado","scrollTo","ResultadoBusqueda","match","params","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","preview","datosPassword","UploadAvatar","onDrop","useCallback","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setDatosActualizados","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","card","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","setDatosEnvio","traerCostosEnvio","parseFloat","crearPago","centavo","newPedido","datosPago","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","Politicas","lineHeight","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","disponibilidadSugerencia","setDisponibilidadSugerencia","element","promocionProducto","promocionSugerencia","showConfirm","IssuesCloseOutlined","toFixed","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","imageClassName","enlargedImageContainerClassName","enlargedImageClassName","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","zoomHeight","setZoomHeight","zoomWidth","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setCategoria","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","setDatosUser","TagsOutlined","BellOutlined","Carrito","obtenerTienda","readMore","setReadMore","setCostoEnvio","OnClickReadMore","marginRight","CreditCardOutlined","Error404","Content","AdminHome","RegistrarProductos","Pedidos","Promociones","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","Entrar","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setPedidoCompleto","avatar_productos","nombre_productos","App","RoutesWithSubRoutes","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1115dc82.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";","import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = () => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/')\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : \"https://tiendaab.herokuapp.com/api\"\r\n})\r\n\r\nexport default clienteAxios","import React, { useState, useEffect } from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t<Menu.Item key=\"/\">\r\n\t\t\t\tHome<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\">\r\n\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{!decoded ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\">\r\n\t\t\t\t\tPedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item>\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { MenuOutlined, ShoppingCartOutlined, SettingOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst {active, setActive} = useContext(MenuContext)\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ carrito, setCarrito ] = useState(0);\r\n\tconst [ ofertas, setOfertas ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetActive(true);\r\n\t\tobtenerOfertas();\r\n\t\tobtenerQuienesSomos();\r\n\t\tif (token) {\r\n\t\t\tobtenerCarrito();\r\n\t\t}\r\n\t}, [ token, active]);\r\n\r\n\tasync function obtenerCarrito() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCarrito(res.data.articulos.length);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetCarrito(0);\r\n\t\t\t});\r\n\t};\r\n\tasync function obtenerQuienesSomos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/tienda')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((datos) => {\r\n\t\t\t\t\tsetTienda(datos);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t});\r\n\t};\r\n\tasync function obtenerOfertas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOfertas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout\">\r\n\t\t\t<Header>\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general\">\r\n\t\t\t\t\t<div className=\"top-menu row \">\r\n\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-3 contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '70%' }}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-6 nav-menu-enlaces\">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right navbar-menu-general\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineIndent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/\">\r\n\t\t\t\t\t\t\t\t\tHome<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/productos\">\r\n\t\t\t\t\t\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tofertas.length ?\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/ofertas\">\r\n\t\t\t\t\t\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>:\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\tPedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\" key=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 25 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t ) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`} />\r\n\t\t\t\t\t\t\t\t\t\t\t )\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"mt-3 top-menu-responsive\">\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t<MenuOutlined style={{ fontSize: 22, color: 'black' }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search\"\r\n\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\tstyle={{ width: 270 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!decoded ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 28 }} />\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer title={\r\n\t\t\t\t\t\t!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t<Link to=\"/\" >\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} placement=\"left\" closable={false} onClose={onClose} visible={visible} >\r\n\t\t\t\t\t\t<RightMenu ofertas={ofertas} tienda={tienda}/>\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Layout, Menu, Spin } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './categorias.scss';\r\nimport clienteAxios from '../../config/axios';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\tconst [ generos, setGeneros ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t}, []);\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCategorias(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGeneros(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst categorias_nav = categorias.map((categoria) => {\r\n\t\treturn (\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName=\"submenu-categoria nav-font-color-categorias\"\r\n\t\t\t\tonTitleClick={() => props.history.push(`/searching/${categoria.categoria}`)}\r\n\t\t\t>\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tclassName=\"nav-font-color-categorias\"\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => props.history.push(`/searching/${sub._id}`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t);\r\n\t});\r\n\r\n\tconst categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tclassName=\"nav-font-color-categorias\"\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => props.history.push(`/searching/${generos._id}`)}\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline\">\r\n\t\t\t<Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />\r\n\t\t\t<Menu\r\n\t\t\t\tclassName=\"categorias-navbar d-inline\"\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t\t{loading === false ? (\r\n\t\t\t\t\t<SubMenu title=\"Género\" className=\"submenu-categoria nav-font-color-categorias\">\r\n\t\t\t\t\t\t{categorias_generos}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../config/axios';\r\nimport { Link } from 'react-router-dom';\r\nimport {  Button,  Layout} from 'antd';\r\n\r\nimport {FacebookFilled, InstagramFilled, TwitterCircleFilled, UserOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport './footer.scss';\r\nimport '../../scss/variables.scss'\r\n\r\n const { Footer } = Layout;\r\nconst Style = {fontSize:15};\r\n\r\n\r\n\r\nconst FooterPage = () => {\r\n\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n    const [imagenCorp, setImagenCorp] = useState('')\r\n    const [nombreCorp, setNombreCorp] = useState('')\r\n    const [politicas, setPoliticas] = useState('')\r\n    const [telefono, setTelefono] = useState('')\r\n    const [accion, setAccion] = useState(false)\r\n\r\n    \r\n\r\n    function peticionRedes(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                if(res.data[0]){\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                    setNombreCorp(res.data[0].nombre)\r\n                    setPoliticas(res.data[0].politicas)\r\n                    setTelefono(res.data[0].telefono)\r\n                    if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                        setFace(res.data[0].linkFace);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                        setInsta(res.data[0].linkInsta);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                        setTwitter(res.data[0].linkTweeter);\r\n                        setAccion(true);\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                console.log(\"No funciona\");\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        peticionRedes();\r\n        setAccion(false)\r\n    }, []);\r\n    \r\n\r\n\r\n\r\n    return(\r\n       \r\n         <Layout className=\"layout\">\r\n             <Footer className=\"bg-footer\" >\r\n                <div end=\"xs\" id=\"foot\"  className=\"row footer-font-color\">  \r\n                    <div className=\"col-lg-9 text-lg-left text-center footer-font-color\">\r\n                        <div className=\"footer-border footer-font-color\">\r\n                            {imagenCorp !== '' ? (\r\n                                <Link  to=\"/quienes_somos\" >\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><UserOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Conocenos\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n\r\n                            {politicas !== '' ? (\r\n                                <Link  to=\"/politicas\">\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><KeyOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Aviso de Privacidad\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n                        </div>\r\n\r\n                        <div className=\"mt-2 p-3 font-color-footer\">\r\n                            <h2 className=\"footer-font-color\" style={{fontSize: 18}} >{nombreCorp !== '' ? nombreCorp : \"\"}</h2>\r\n                            {telefono !== '' ? (<p className=\"footer-font-color\">Telefono: {telefono} </p>): \"\"}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-3 p-3\" style={{textAlign:\"center\"}}>\r\n                        {accion ? (<p style={{fontSize: 30, }}>Buscanos en:</p>):\"\"}\r\n                        \r\n\r\n                        {face !== '' ? \r\n                            (\r\n                            <a href={face} target=\"_blank\">\r\n                                <FacebookFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        \r\n                        }\r\n                        {insta !== '' ? \r\n                            (\r\n                            <a href={insta} target=\"_blank\">\r\n                                <InstagramFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                        {twitter !== '' ? \r\n                            (\r\n                            <a href={twitter} target=\"_blank\">\r\n                                <TwitterCircleFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n             {/* <p style={{textAlign:\"center\"}}>Ant Design ©2018 Created by Ant UED</p> */}\r\n             </Footer>\r\n         </Layout>\r\n    )\r\n}\r\n\r\nexport default FooterPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport { MenuProvider } from '../../context/carritoContext';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\nimport Categorias from '../Categorias/Categorias';\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport \"./layout.scss\"\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Layout >\r\n\t\t\t<div className=\"cuerpo bg-layout\"> \r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<MenuProvider >\r\n\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t<Content style={{ height: \"auto\" }} className=\"bg-layout\">\r\n\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</MenuProvider>\r\n\t\t\t\t</Layout>\r\n\t\t\t</div>\r\n\t\t\t<Footer className=\"foot\" style={{margin:0, padding: 0}} >\r\n\t\t\t\t<FooterPage style={{margin:0,padding: 0}} />\r\n\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function Geolocalizacion({\r\n\theight,\r\n\twidth,\r\n\tcenter,\r\n\ttitleLayer,\r\n\tzoom,\r\n\tapikey,\r\n\tnombreMarcador,\r\n\ttituloheader,\r\n\tdraggable\r\n}) {\r\n\tuseEffect(() => {\r\n\t\t//api key\r\n\t\twindow.L.mapquest.key = apikey;\r\n\r\n\t\tvar container = window.L.DomUtil.get('map');\r\n\t\tif (container != null) {\r\n\t\t\tcontainer._leaflet_id = null;\r\n\t\t}\r\n\r\n\t\t//inicializar el map\r\n\t\tconst map = window.L.mapquest.map('map', {\r\n\t\t\tcenter,\r\n\t\t\tlayers: window.L.mapquest.tileLayer(titleLayer),\r\n\t\t\tzoom\r\n\t\t});\r\n\r\n          /* console.log(map); */\r\n\r\n          window.L.marker(center, {\r\n            icon: window.L.mapquest.icons.marker(),\r\n            draggable: false\r\n          }).bindPopup(nombreMarcador).addTo(map);\r\n\r\n          map.addControl(window.L.mapquest.control());\r\n         /*  console.log(window.L.mapquest.control()) */\r\n    })\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{tituloheader ? (\r\n\t\t\t\t<div className=\"principal-productos\">\r\n\t\t\t\t\tENCUENTRA NUESTRA TIENDA\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div id=\"map\" style={{ height, width }} className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"spinner-border display-3\" style={{ width: '10rem', height: '10rem' }} role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Spin as Spinner } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default class Spin extends Component {\r\n    render() {\r\n        return (\r\n                <div className=\"spin-container\">\r\n                    <Spinner size=\"large\" tip=\"Loading...\" className=\"spin__verticalCenter spin\"/>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst { datosNegocio, setReloadInfo } = props;\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatos();\r\n\t\tif (!datosNegocio) {\r\n\t\t\tsetDisabled(true);\r\n\t\t}else{\r\n\t\t\tsetDisabled(false);\r\n\t\t}\r\n\t}, [ datosNegocio ]);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm(){\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Divider className=\"mt-5\">Politicas de envío</Divider>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Upload, notification, Alert } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport PoliticasEnvio from './politicas_envio';\r\n\r\nexport default function RegistroTienda(props) {\r\n\tconst { datosNegocio, token, setLoading, setReloadInfo } = props;\r\n\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState('');\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosNegocio !== undefined) {\r\n\t\t\t\tsetImagen(datosNegocio.imagenLogo);\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lat = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lng = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkFace === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkFace = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkInsta === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkInsta = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkTweeter === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkTweeter = '';\r\n\t\t\t\t}\r\n\t\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetControl(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({});\r\n\t\t\t\tsetControl(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\r\n\tconst capturarImagenCorpEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, imagenCorp: content });\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst SendForm = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('telefono', datos.telefono);\r\n\t\tformData.append('calle_numero', datos.calle_numero);\r\n\t\tformData.append('cp', datos.cp);\r\n\t\tformData.append('colonia', datos.colonia);\r\n\t\tformData.append('ciudad', datos.ciudad);\r\n\t\tformData.append('estado', datos.estado);\r\n\t\tformData.append('lat', datos.lat);\r\n\t\tformData.append('lng', datos.lng);\r\n\t\tformData.append('politicas', datos.politicas);\r\n\t\tformData.append('imagenCorp', datos.imagenCorp);\r\n\t\tformData.append('linkFace', datos.linkFace);\r\n\t\tformData.append('linkInsta', datos.linkInsta);\r\n\t\tformData.append('linkTweeter', datos.linkTweeter);\r\n\r\n\t\tif (control === false) {\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/tienda/', formData, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tconsole.log(err.response);\r\n\t\t\t\t\t\tif (err.response.status === 500 || err.response.status === 404) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Parece que algo salio mal, favor de intentarlo de nuevo'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (files.length !== 0) {\r\n\t\t\t\tconsole.log(files);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/tienda/${datosNegocio._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tconsole.log(err.response);\r\n\t\t\t\t\tif (err.response.status === 500 || err.response.status === 404) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Parece que algo salio mal, favor de intentarlo de nuevo'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form onFinish={SendForm} form={form}>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Divider>Logo del negocio</Divider>\r\n                        <div className=\"d-flex justify-content-center m-2\">\r\n                            <Alert className=\"info-recomended-sizes\" message=\"Tamaño recomendado para la imagen es: 900x300px\" type=\"info\" showIcon />\r\n                        </div>\r\n\t\t\t\t\t\t<div className=\"m-auto\">\r\n\t\t\t\t\t\t\t<Form.Item label=\"Logo\">\r\n\t\t\t\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t{control === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-center\">Imagen actual:</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de la tienda</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Nombre\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, nombre: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Telefono \"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, telefono: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"Telefono\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Calle\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, calle_numero: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Código Postal \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Código Postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Colonia \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, colonia: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row mt-3 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Ciudad\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, ciudad: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Estado\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, estado: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Divider>Ubicación</Divider>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Latitud \"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lat: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Latitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lat\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lat\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Longitud\"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lng: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Longitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lng\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lng\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Redes sociales</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Facebook \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkFace: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkFace\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkFace\" placeholder=\"https://facebook.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkInsta: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkInsta\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkInsta\" placeholder=\"https://instagram.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Tweeter\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkTweeter: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkTweeter\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkTweeter\" placeholder=\"https://twitter.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de la empresa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Politicas de privacidad obligatorias' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | \\\r\n                                            alignleft aligncenter alignright alignjustify | \\\r\n                                            bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Imagen corporativa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"imagenCorp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | \\\r\n                                            alignleft aligncenter alignright alignjustify | \\\r\n                                            bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarImagenCorpEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar informacion de la tienda' : 'Editar informacion de la tienda'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t\t<PoliticasEnvio datosNegocio={datosNegocio} setReloadInfo={setReloadInfo} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Button,Drawer,Alert,notification,Empty} from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Geolocalizacion from '../../../../users/geolocalizacion'\r\nimport './MostrarRegistroTienda.scss';\r\nimport {PlusCircleOutlined,EditOutlined,EyeOutlined,FacebookFilled,InstagramFilled,TwitterCircleFilled } from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\n\r\n\r\n function MostrarRegistroTienda(props) {\r\n\r\n    const {token} = props;\r\n\r\n    const [action, setAction] = useState(false)\r\n    const [visible, setVisible] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [datosNegocio, setDatosNegocio] = useState({})\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n\r\n    const [ reloadInfo, setReloadInfo ] = useState(false);\r\n    const [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n    const [lat,setLat] = useState(\"\")\r\n    const [lng,setLng] = useState(\"\")\r\n\r\n    const showDrawer = () => {\r\n        setVisible(true);\r\n      };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n    };\r\n\r\n    function peticionDatosTienda(){\r\n        setLoading(true);\r\n        clienteAxios.get(`/tienda/`)\r\n        .then((res) => {\r\n            setLoading(false);\r\n            setDatosNegocio(res.data[0])\r\n            if(res.data[0]){\r\n                setAction(true)\r\n                if(res.data[0].ubicacion[0].lat === \"\" || res.data[0].ubicacion[0].lat === \"undefined\"){\r\n                    setLat(\"19.767980\")\r\n                }else{\r\n                    setLat(res.data[0].ubicacion[0].lat)\r\n                }\r\n                if(res.data[0].ubicacion[0].lng === \"\" || res.data[0].ubicacion[0].lng === \"undefined\"){\r\n                    setLng(\"-104.358159\") \r\n                }else{\r\n                    setLng(res.data[0].ubicacion[0].lng) \r\n                }\r\n                if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                    setFace(res.data[0].linkFace);\r\n                }\r\n                if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                    setInsta(res.data[0].linkInsta);\r\n                }\r\n                if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                    setTwitter(res.data[0].linkTweeter);\r\n                }\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            }\r\n/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            setLat(\"19.767980\")\r\n            setLng(\"-104.358159\")\r\n            setDatosNegocio({})\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n        })\r\n    }\r\n\r\n    async function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        peticionDatosTienda();\r\n        obtenerPoliticasEnvio();\r\n        setReloadInfo(false)\r\n    }, [reloadInfo])\r\n\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n\r\n\r\n    \r\n    return (\r\n        <div className=\"info-tienda\">\r\n                <Drawer\r\n                    title={action === false ? \"Registrando la información del negocio\" : \"Actualizando la información del negocio\"}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    <RegistroTienda datosNegocio={datosNegocio} token={token} setLoading={setLoading} setReloadInfo={setReloadInfo} />\r\n                </Drawer>\r\n            \r\n            <div className=\"d-flex\">\r\n                <Button\r\n                    type=\"primary\"\r\n                    className=\"mostrarRegistroTienda-button m-3\"\r\n                    size=\"large\"\r\n                    icon={action === false ? (<PlusCircleOutlined style={{ fontSize: 24 }} />):(<EditOutlined style={{ fontSize: 24 }} />) }\r\n                    onClick={() => {\r\n                        showDrawer();\r\n                    }}\r\n                >\r\n                    {action === false ? \"Agregar información tienda\" : \"Actualizar información tienda\"}\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"text-center mt-3\">\r\n                <h2 className=\"text-center h2 mb-4\">{action === false ? \"Ey aún no agregas la información de tu negocio.\":\"Información de tu negocio\"} </h2>\r\n                <div className=\"w-50\" style={{margin: \"auto\"}} >\r\n                    {action === false ? (\r\n                        <Alert\r\n                            message=\"Nota:\"\r\n                            description={<AlertTienda />}\r\n                            type=\"info\"\r\n                            showIcon\r\n                        />\r\n                    ): (\r\n                        \"\"\r\n                    )}\r\n                </div>\r\n                        {action === false ? \"\" : (\r\n                            <div>\r\n                                <p>Logo del negocio:</p>\r\n                                <div className=\"mostrarRegistroTienda-imagen m-3\">\r\n                                    <img\r\n                                        className=\"d-block img-fluid \"\r\n                                        width=\"200\"\r\n                                        alt=\"imagen de base\"\r\n                                        src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${datosNegocio.imagenLogo}`}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                    <div className=\"row m-4\">\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Nombre del negocio: <span className=\"h6\"> {action === false ? \"Nombre de tu negocio\": datosNegocio.nombre} </span> </p>\r\n                            </div>\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Teléfono:<span className=\"h6\"> {action === false ? \"Teléfono\": datosNegocio.telefono} </span></p>\r\n                            </div>\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Código Postal:<span className=\"h6\"> {action === false ? \"Código Postal\": datosNegocio.direccion[0].cp} </span></p>\r\n                            </div>\r\n                    </div>\r\n\r\n                    <div className=\"row m-4\">\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Calle:<span className=\"h6\"> {action === false ? \"Calle\": datosNegocio.direccion[0].calle_numero} </span></p>\r\n                            </div>\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Colonia:<span className=\"h6\"> {action === false ? \"Colonia\": datosNegocio.direccion[0].colonia} </span></p>\r\n                            </div>\r\n                            <div className=\"col-lg-4 col-md-4 col-sm-12 mb-2\">\r\n                                <p>Ciudad:<span className=\"h6\"> {action === false ? \"Colonia\": datosNegocio.direccion[0].ciudad} Ciudad</span></p>\r\n                            </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                            <div className=\"col-lg-6 col-sm-12\">\r\n                                <p>Estado:<span className=\"h6\"> {action === false ? \"Estado\": datosNegocio.direccion[0].estado}</span></p>\r\n                            </div>\r\n                            <div className=\"col-lg-6 col-sm-12\">\r\n                                <p className=\"m-2\" >Redes sociales:</p>\r\n                                {face !== '' ? \r\n                                    (\r\n                                    <a href={face} className=\"m-2\" target=\"_blank\">\r\n                                        <FacebookFilled style={{fontSize: 45, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                        \r\n                                }\r\n                                {insta !== '' ? \r\n                                    (\r\n                                    <a href={insta} className=\"m-2\" target=\"_blank\">\r\n                                        <InstagramFilled style={{fontSize: 45, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                                \r\n                                {twitter !== '' ? \r\n                                    (\r\n                                    <a href={twitter} className=\"m-2\" target=\"_blank\">\r\n                                        <TwitterCircleFilled style={{fontSize: 45, color:\"gray\"}} />\r\n                                    </a>\r\n                                    ):('')\r\n                                }\r\n                            </div>  \r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <p className=\"m-3 \">Ubicación actual: </p>\r\n                                <Geolocalizacion \r\n                                    height=\"60vh\"\r\n                                    width=\"100%\"\r\n                                    center={[lat, lng]}\r\n                                    titleLayer={'map'}\r\n                                    zoom={15}\r\n                                    apikey = 'I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V'\r\n                                    nombreMarcador = \"AB soluciones Empresariales\"\r\n                                />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-4 col-sm-12\">\r\n                            <p className=\"m-3 h3\">Políticas de envío</p>\r\n                            {politicasEnvio.length === 0 ? (\r\n                                <Empty description={<p className=\"h6\">Aún no hay información</p>} />\r\n                            ):(\r\n                                <div className=\"politicas-p mt-4\">\r\n                                    <p>Costo por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong></p>\r\n                                    <p>Promoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong></p>\r\n                                    <p>Costo de promocion de envío: <strong>${politicasEnvio.descuento}</strong></p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"col-lg-4 col-sm-12\">\r\n                            <p className=\"m-3 h3\">Políticas de privacidad</p>\r\n                            {action === false ? (\r\n                                <Empty description={<p className=\"h6\">Aún no hay información</p>} />\r\n                            ):(\r\n                                <Empty image=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\" description={<p className=\"h6\">Información existente</p>} >\r\n                                    <Link to={`/politicas`} target=\"_blank\">\r\n                                        <Button type=\"dashed\">\r\n                                            <EyeOutlined /> Ver\r\n                                        </Button>\r\n                                    </Link>\r\n                                </Empty>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"col-lg-4 col-sm-12\">\r\n                            <p className=\"m-3 h3\">Imagen corporativa</p>\r\n                            {action === false ? (\r\n                                <Empty description={<p className=\"h6\">Aún no hay información</p>} />\r\n                            ):(\r\n                                <Empty image=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\" description={<p className=\"h6\">Información existente</p>} >\r\n                                    <Link to={`/quienes_somos`} target=\"_blank\">\r\n                                        <Button type=\"dashed\">\r\n                                            <EyeOutlined /> Ver\r\n                                        </Button>\r\n                                    </Link>\r\n                                </Empty>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction AlertTienda(){\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"h6\">Recuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu negocio sea encontrado fácilmente.</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\n\r\nfunction Admin(props) {\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagenes.url}`}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props}>\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/\r\n\t\t\t\t\t\t\t${prev}`}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%'}} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%'}} message=\"Podrás registrar tallas después de registrar tu producto\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%'}} message=\"Ya puedes registrar numero de calzado\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%'}} message=\"Podrás registrar el numero de calzado después de registrar tu producto\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n}\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([ 'Ropa', 'Calzado' ]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('FFFFFF');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\t\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t\tconsole.log(color)\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({color: ''})\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t}\r\n\t\t\tsetUpload(false)\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelect(value);\r\n\t\tif (value === 'Calzado' || value === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif(tipoCategoria === 'otros'){\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, item ]);\r\n\t\tsetSelect(item);\r\n\t\tsetTipoCategoria('otros');\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar</h2>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"subCategoria\">\r\n\t\t\t\t\t\t\t\t\t\t{console.log()}\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Cantidad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input min=\"1\" type=\"number\" name=\"cantidad\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input min=\"1\" type=\"number\" disabled={disabledformProductos} name=\"precio\" />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{span: 22, offset: 0}} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t\t<Input className=\"d-inline ml-2\" type=\"text\" disabled={disabledformProductos} name=\"color\" placeholder=\"Escribe el color, por ejemplo: Verde\"/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 850x550px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{select === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{select === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert className=\"info-recomended-sizes\" message=\"Tamaño recomendado para la imagen es: 850x550px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'su producto ha sido creado!',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404) {\r\n\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t} else if (res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagenes.url}`}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 850x550px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops}>\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-actualizar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${prev}`}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tActualizar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tActualizar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('FFFFFF');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({color: ''})\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\t/* obtenerDatos(); */\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ productoID, reload, form, select ]\r\n\t);\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\tcategoria: res.data.subCategoria,\r\n\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t});\r\n\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value);\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\nconsole.log(productos.color)\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', productos.categoria);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', productos.categoria);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.categoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.categoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Cantidad\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 850x550px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${files}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination  mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","\r\n\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn number.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('es-MX', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Col, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n/* \tDeleteOutlined, */\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\r\n\t/* function showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t} */\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif(window.screen.width < 768){\r\n\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t}else{\r\n\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(window.screen.width < 768){\r\n\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t}else{\r\n\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"col-lg-3\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} >\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 300,  */maxHeight: 420 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 250 }}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t\tstyle={{ maxHeight: '99%', maxWidth: '99%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />Editar\r\n\t\t\t\t\t\t</Button>/* ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />Eliminar\r\n\t\t\t\t\t\t</Button> */\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto titulo-producto-admin-responsivo\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5\">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)} \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<Row gutter={16} className=\"mt-4 d-flex justify-content-center\">\r\n\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\trender\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t\t<Pagination blogs={productos} location={location} history={history} limite={window.screen.width < 768 ? 12 : 28} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Enviado' ? '#5cb85c' : '#0275d8'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${pedido.producto.imagen}`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">numero de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined, UserOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n    const [ form ] = Form.useForm();\r\n    const token = localStorage.getItem('token');\r\n    const IDpedido = props.datosPedido;\r\n    const [ pedido, setPedido ] = useState([]);\r\n    const pedidoID = props.datosPedido;\r\n    const setReload = props.reload;\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ disabled, setDisabled ] = useState(false);\r\n    const [ datos, setDatos ] = useState({})\r\n\r\n    useEffect(() => {\r\n        obtenerPedido();\r\n\t\tsetDisabled(false);\r\n    }, [IDpedido])\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconsole.log(datos);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos,  {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n                setReload(true);\r\n                setLoading(false);\r\n                setDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t\r\n    const obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`,  {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tconsole.log(res.data);\r\n                form.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido, \r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento,\r\n\t\t\t   });\r\n                setDatos({\r\n\t\t\t\t\t estado_pedido: res.data.estado_pedido, \r\n\t\t\t\t\t mensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\t url: res.data.url,\r\n\t\t\t\t\t paqueteria: res.data.paqueteria,\r\n\t\t\t\t\t codigo_seguimiento: res.data.codigo_seguimiento,\r\n                });\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n        setDatos({\r\n            ...datos, 'estado_pedido': e.key\r\n        });\r\n        setPedido({\r\n            ...pedido, estado_pedido: e.key\r\n        });\r\n    }\r\n    function onChange(e) {\r\n        setDatos({\r\n            ...datos, [e.target.name]: e.target.value\r\n        });\r\n        setPedido({\r\n            ...pedido, [e.target.name]: e.target.value\r\n        });\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" icon={<UserOutlined />}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\" icon={<UserOutlined />}>\r\n\t\t\t\tEnviado\r\n\t\t\t</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === \"Enviado\" || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{fontSize: 16}}>Si el producto ya fue enviado puedes agregar la infoemacion de envio.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form}>\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea rows={4} name=\"mensaje_admin\" placeholder=\"Mensaje para el usuario\"  onChange={onChange}/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculacion:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paqueteria:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Codigo de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item >\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag, Button } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n/* \t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} */\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Enviado' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button key=\"detalle\" type=\"primary\" onClick={handleCancel}>\r\n\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido} />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={[\"\"]}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Slider, Upload, List, Avatar, notification, Result, Spin, Form, Col, Alert } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport './registrar_promocion.scss';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block mt-4\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6  border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.todos.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={40}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\t\t\t\t{content === false ? (\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6 d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './registrar_promocion.scss';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${promocion.imagenPromocion}`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Col, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport './promociones.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Promociones(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos\r\n\t\t\t\t\t\t\t\t.productoPromocion.imagen}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\tSISTEMA DE PROMOCIONES\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n\t\t\t\t</p>\r\n\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose}>\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} />\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Promociones);\r\n","import React from 'react'\r\nimport {Card, Col,Tag} from 'antd'\r\nimport { ContainerOutlined } from '@ant-design/icons';\r\nimport {formatoFecha} from '../../../../config/reuserFunction'\r\n\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\n\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\r\n\tconst {setDetalleApartado,showModal,apartado} = props;\r\n\r\n    return (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalle de solicitud de apartado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={apartado.estado === 'ACEPTADO' ?  '#5cb85c' : apartado.estado === 'PROCESANDO' ? '#0275d8' :  apartado.estado === 'ENVIADO' ? \"#5cb85c\": \"#F75048\"}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Pasaran por el'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n    )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Col,Row,Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado} = props;\r\n    \r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token')\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            console.log(res);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(err.response);\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n            let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            console.log(res);\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            \r\n        })\r\n        .catch((err) => {\r\n            console.log(err.response);\r\n            setLoading(false)\r\n            if (err.response.status === 404 || err.response.status === 500) {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            } else {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <Row>\r\n                    <Col span={24} className=\"detalle-apartado__border d-block\">\r\n                        <p className=\"h3 text-center\">Datos Usuario</p>\r\n                        <div className=\"col-sm-12 col-lg-6 m-2\">\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Teléfono: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\" m-2\">Calle: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n                            <h6 className=\" m-2\">Calles referentes a las que vive: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\" m-2\">Código Postal: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-6 m-2\">\r\n                        <h6 className=\" m-2\">Colonia: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                            <h6 className=\" m-2\">Ciudad: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\" m-2\">Estado: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\" m-2\">País: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={24} className=\"detalle-apartado__border d-block m-2\">\r\n                        <p className=\"h4 text-center\">Datos producto</p>\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${detalleApartado.producto[0].imagen}`}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {console.log(promocion.length)}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n\r\n\r\n\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={24} className=\"m-2\">\r\n                        <div>\r\n                            <div>\r\n                            <p className=\"h3 text-center\">Información por apartar</p>\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                            <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p>\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Pasaran por el'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            \r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n\r\n\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React,{useEffect,useState} from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification,Col,Spin,Result,Row,Modal,Input } from 'antd'\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta'\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination'\r\nimport './apartado.scss';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [apartadoPaginacion, setApartadoPaginacion] = useState([]);\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    const [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction obtenerProductosFiltrados(filter){\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios.get(`/apartado/filtroCliente/${filter}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(res);\r\n\t\t\tsetApartados(res.data)\r\n        }).catch((err) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(err.response);\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n        })\r\n\t}\r\n\r\n\t\r\n    \r\n    function obtenerDatos(limit,page){\r\n\t\tsetLoading(true);\r\n        clienteAxios.get(`/apartado/?limit=${limit}&page=${page}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            console.log(res);\r\n\t\t\tsetApartados(res.data.posts.docs)\r\n\t\t\tsetApartadoPaginacion(res.data.posts)\r\n        }).catch((err) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tconsole.log(err.response);\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n\t\tobtenerDatos(24,page);\r\n\t\tsetLoading(true);\r\n\t\tsetEstado(false)\r\n\t}, [page,filter,estado])\r\n\t\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    const showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n    };\r\n\r\n    return (\r\n       <div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\t\tif(value === \"\"){\r\n\t\t\t\t\t\t\t\t\t\tobtenerDatos(10,page,filter)\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>{\r\n\t\t\t\t\t\t\t\tapartados.map((apartado) => (\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado} \r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal} \r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado} \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={600}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} setEstado={setEstado} setFilter={setFilter} />\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24}/>\r\n\t\t\t</Spin>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Tag, Input, notification, Badge, Spin, Col, Row, Button } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport './inventario.scss';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\tfixed: 'left',\r\n\t\t\trender: (text) => <p>{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p>-</p> : <p>{text}</p>)\r\n\t\t},\r\n\t\t/* {\r\n\t\t\ttitle: 'tipo de Categoria',\r\n\t\t\tdataIndex: 'tipoCategoria',\r\n\t\t\tkey: 'tipoCategoria',\r\n\t\t\trender: (text) => !text ? <p>-</p> : <p>{text.toLowerCase()}</p>\r\n\t\t}, */\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tdataIndex: 'categoria',\r\n\t\t\tkey: 'categoria',\r\n\t\t\trender: (text) => (!text ? <p>-</p> : <p>{text.toLowerCase()}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Sub categoría',\r\n\t\t\tdataIndex: 'subCategoria',\r\n\t\t\tkey: 'subCategoria',\r\n\t\t\trender: (text) => (!text ? <p>-</p> : <p>{text.toLowerCase()}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\trender: (tallas) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((talla) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={talla._id}\r\n\t\t\t\t\t\t\t\t\tcount={talla.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttalla.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p>{talla.talla}</p>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\trender: (numeros) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numero) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numero._id}\r\n\t\t\t\t\t\t\t\t\tcount={numero.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumero.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p>{numero.numero}</p>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerProductos(20, page)\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visible} mb-5`}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif(res.data.sugerencias){\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\t\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.response.status === 404) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t} else if (res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? \"list-item-sugerencia\": ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Avatar src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`} />\r\n\t\t\t\t}\r\n\t\t\t\ttitle={productos.nombre}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\"><CloseOutlined className=\"mr-1\" />Cerrar</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\"><CheckOutlined className=\"mr-1\" />Crear</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\"><CheckOutlined className=\"mr-1\" />Actualizar</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${sugerencia.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Col, Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tListo\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia />\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tformData.append('producto', producto._id);\r\n\t\tformData.append('imagen', imagen);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/carousel/nuevo/${producto._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}, 1500);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Avatar src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`} />\r\n\t\t\t\t}\r\n\t\t\t\ttitle={productos.nombre}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps}>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" disabled={producto.length !== 0 ? false : true}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Col, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ prodcutoCarousel, setProductoCarousel ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((item) => setProductoCarousel(item.producto));\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (productoID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${productoID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(productos.producto._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos.producto._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5\">{productos.producto.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen promocional de tu producto al carrusel principal en caso de que\r\n\t\t\t\tno existan promociones, si no existen promociones apareceran esta imagen\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={prodcutoCarousel.nombre}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n\t\t\t\t/>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React from 'react'\r\nimport {List,Button,Modal,notification,Avatar } from 'antd';\r\nimport { EyeOutlined,EditOutlined,DeleteOutlined,ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss'\r\n\r\n\r\nconst {confirm} = Modal;\r\n\r\nexport default function blogList(props) {\r\n\r\n    const {blogs,setReloadBlog,showDrawer,setAccion,setInfoBlog} = props;\r\n    const token = localStorage.getItem('token');\r\n\r\n    const deleteBlog = blog => {\r\n        console.log(blog)\r\n        confirm({\r\n            title:\"Eliminando Blog\",\r\n            icon: <ExclamationCircleOutlined />,\r\n            content: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n            okText: \"Eliminar\",\r\n            okType:\"danger\",\r\n            cancelText:\"Cancelar\",\r\n            onOk(){\r\n                clienteAxios.delete(`/blog/${blog._id}`,{\r\n                    headers: {\r\n                        'Content-Type': 'aplication/json',\r\n                        Authorization: `bearer ${token}`\r\n                    }\r\n                })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    notification.success({\r\n                        message: 'Blog Eliminado',\r\n                        description:\r\n                        res.data.message,\r\n                    });\r\n                    setReloadBlog(true);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                    notification.error({\r\n                        message: 'Error del servidor',\r\n                        description:\r\n                        'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n                    });\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"blogs-list\">\r\n            <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={blogs.docs}\r\n                renderItem={blog => <Blog \r\n                                        blog={blog} \r\n                                        deleteBlog={deleteBlog} \r\n                                        showDrawer={showDrawer} \r\n                                        setAccion={setAccion} \r\n                                        setInfoBlog={setInfoBlog} \r\n                                    />}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction Blog(props){\r\n    \r\n    const {blog,deleteBlog,showDrawer,setAccion,setInfoBlog} = props;\r\n\r\n    return(\r\n        <List.Item\r\n            actions={[\r\n                <Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n                    <Button type=\"dashed\">\r\n                        <EyeOutlined /> Ver\r\n                    </Button>\r\n                </Link>,\r\n                <Button type=\"dashed\" onClick={() => {\r\n                    setInfoBlog(blog);\r\n                    setAccion(true);\r\n                    showDrawer();\r\n                }}>\r\n                    <EditOutlined /> Editar\r\n                </Button>,\r\n                <Button type=\"dashed\" danger onClick={() => deleteBlog(blog)}>\r\n                    <DeleteOutlined /> Eliminar\r\n                </Button>\r\n            ]}\r\n            \r\n        >\r\n            <List.Item.Meta \r\n                avatar={<Avatar src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${blog.imagen}`} />}\r\n                title={blog.nombre} \r\n                description={blog.administrador}\r\n            />\r\n        </List.Item>\r\n    )\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React,{ useContext,useState,useEffect } from 'react'\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport {Form,Input,Button,notification,Upload, Alert} from 'antd'\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\r\n    const {setReloadBlog,token,setVisible} = props;\r\n\r\n    const blogContext = useContext(BlogContext); \r\n    const [ form ] = Form.useForm();\r\n    var urlGuion = \"\";\r\n\r\n\r\n     //Variables que guardan las imagenes\r\n     const [ files, setFiles ] = useState([]);\r\n     const [ upload, setUpload ] = useState(false);\r\n\r\n     const [ accion, setAccion ] = useState(false);\r\n     \t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n        nombre: blogContext.nombre,\r\n        administrador: blogContext.administrador,\r\n        url: blogContext.url,\r\n        descripcion: blogContext.descripcion\r\n    });\r\n\r\n     const monstrarInformacionBlog = () => {\r\n        form.setFieldsValue({\r\n            nombre: blogContext.nombre,\r\n            administrador: blogContext.administrador,\r\n            url: blogContext.url,\r\n            descripcion: blogContext.descripcion\r\n        })\r\n     }\r\n\r\n     useEffect(() => {\r\n        monstrarInformacionBlog();\r\n     }, [blogContext])\r\n\r\n        //Layout para formulario(columnas)\r\n        const layout = {\r\n            labelCol: { span: 6 },\r\n            wrapperCol: { span: 16 }\r\n        };\r\n\r\n        const propss = {\r\n            listType: 'picture',\r\n            beforeUpload: (file) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n                reader.onload = (e) => {\r\n                    file.thumbUrl = e.target.result;\r\n                    setFiles(file);\r\n                    console.log('que hizo ?')\r\n                };\r\n                setUpload(true)\r\n                return false;\r\n            },\r\n            onRemove: (file) => {\r\n                setUpload(false)\r\n                setFiles([]);\r\n            }\r\n        };\r\n\r\n        function obtenerUrl(text){\r\n            const trim = text.trim();\r\n            const datos = trim.split(\" \");\r\n            for(var i = 0; i < datos.length; i++ ){\r\n                if(datos.length - 1 === i){\r\n                    urlGuion += datos[i];\r\n                }else{\r\n                    urlGuion += datos[i]+\"-\";\r\n                }\r\n                \r\n            }\r\n            return urlGuion;\r\n            /* setUrl(urlSinGion); */\r\n        }\r\n\r\n        const enviarDatos = async () => {\r\n            console.log(datos)\r\n            if(datos.nombre === \"\" || datos.administrador === \"\" || datos.url === \"\" || datos.descripcion === \"\"){\r\n                notification.info({\r\n                    message: 'Ups, algo salio mal',\r\n                    description: 'Todos los datos son obligatorios',\r\n                  })\r\n            }else{\r\n                if(!accion){\r\n                    obtenerUrl(datos.url)\r\n                }else{\r\n                    urlGuion = blogContext.url;\r\n                }\r\n                const formData = new FormData();\r\n                if(files.length === 0){\r\n                    formData.append('nombre', datos.nombre);\r\n                    formData.append('administrador', datos.administrador);\r\n                    formData.append('url',urlGuion);\r\n                    formData.append('descripcion', datos.descripcion);\r\n                }else{\r\n                    formData.append('nombre', datos.nombre);\r\n                    formData.append('administrador', datos.administrador);\r\n                    formData.append('url',urlGuion);\r\n                    formData.append('descripcion', datos.descripcion);\r\n                    formData.append('imagen', files);\r\n                }\r\n                \r\n                await clienteAxios.put(`/blog/${blogContext._id}`, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        Authorization: `bearer ${token}`\r\n                    }\r\n                }).then((res) => {\r\n                    notification.success({\r\n                        message: 'Actualizacion exitosa',\r\n                        description: res.data.message,\r\n                        })\r\n                        setReloadBlog(true);\r\n                        setVisible(false);\r\n                \r\n                })\r\n                .catch((err) => {\r\n                    setAccion(true);\r\n                    console.log(err.response);\r\n                    if(err.response.status === 500 || err.response.status === 400){\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: err.response.data.message,\r\n                          })\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: \"Parece que algo salio mal, favor de intentaro de nuevo\",\r\n                          })\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        const obtenerValores = (e) => {\r\n            if(e.target.name === \"url\"){\r\n                setAccion(false);\r\n            }\r\n            setDatos({\r\n                ...datos,\r\n                [e.target.name]: e.target.value\r\n            });\r\n        };\r\n\r\n        const capturarInfoEditor = (content, editor) => {\r\n            setDatos({...datos, descripcion: content})\r\n          }\r\n\r\n\r\n    return (\r\n        <div className=\"formulario-blog\">\r\n            <Form \r\n                name=\"nest-messages\"\r\n                {...layout}\r\n                form={form}\r\n                onFinish={enviarDatos}\r\n            >\r\n                <Form.Item label=\"Titulo del blog:\" onChange={ obtenerValores} >\r\n                    <Form.Item  noStyle name=\"nombre\">\r\n                        <Input   name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n                <Form.Item label=\"Autor: \" onChange={ obtenerValores} >\r\n                    <Form.Item noStyle name=\"administrador\">\r\n                        <Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n                <Form.Item label=\"Url (Campo unico) \" onChange={ obtenerValores} >\r\n                    <Form.Item noStyle name=\"url\">\r\n                        <Input name=\"url\" placeholder=\"Url del blog\" />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n\r\n                \r\n                <Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n                    <Editor\r\n                    \r\n                        disabled={false}\r\n                        init={{\r\n                            height: 450,\r\n                            menubar: true,\r\n                            plugins: [\r\n                                'advlist autolink lists link image charmap print preview anchor',\r\n                                'searchreplace visualblocks code fullscreen',\r\n                                'insertdatetime media table paste code help wordcount'\r\n                            ],\r\n                            toolbar:\r\n                                'undo redo | formatselect | bold italic backcolor | \\\r\n                            alignleft aligncenter alignright alignjustify | \\\r\n                            bullist numlist outdent indent | removeformat | help'\r\n                        }}\r\n                        onEditorChange={capturarInfoEditor}\r\n                    />\r\n                </Form.Item>\r\n                <div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n                <Form.Item label=\"Imagen principal del Blog:\">\r\n                    <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                            <UploadOutlined /> Subir\r\n                        </Button>\r\n                    </Upload>\r\n                </Form.Item>\r\n                <Form.Item label=\"Imagen Actual\">\r\n                    <img\r\n                        className=\"d-block img-fluid mt-2\"\r\n                        width=\"200\"\r\n                        alt=\"imagen de base\"\r\n                        src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${blogContext.imagen}`}\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        Guardar\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n","import React,{useState} from 'react'\r\nimport {Form,Input,Button,notification,Upload,message, Alert} from 'antd'\r\nimport {Editor} from '@tinymce/tinymce-react';\r\nimport { UploadOutlined,CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\r\n    const {setReloadBlog,token,setVisible} = props;\r\n\r\n    //Variablo que trae la informacion del post\r\n    const [blogData,setBlogData] = useState({});\r\n\r\n    const [ upload, setUpload ] = useState(false);\r\n    //Variables que guardan las imagenes\r\n    const [ files, setFiles ] = useState([]);\r\n    const [ accion, setAccion ] = useState(false);\r\n\r\n    var urlGuion = \"\";\r\n\r\n    //Layout para formulario(columnas)\r\n    const layout = {\r\n        labelCol: { span: 6 },\r\n        wrapperCol: { span: 16 }\r\n    };\r\n\r\n    const processPost = async e => {\r\n            if(blogData.descripcion === undefined){\r\n                notification.info({\r\n                    message: 'Ups, algo salio mal',\r\n                    description: 'La descripcion del blog es obligatoria',\r\n                  })\r\n            }else if(files.length === 0){\r\n                notification.info({\r\n                    message: 'Ups, algo salio mal',\r\n                    description: 'La imagen es obligatoria',\r\n                  })\r\n            }else{\r\n                if(!accion){\r\n                    obtenerUrl(blogData.url)\r\n                }\r\n                const hide = message.loading('Accion en proceso....', 0);\r\n                setTimeout(hide, 2000);\r\n                const formData = new FormData();\r\n                    formData.append('nombre', blogData.nombre);\r\n                    formData.append('administrador', blogData.administrador);\r\n                    formData.append('url',urlGuion);\r\n                    formData.append('descripcion', blogData.descripcion);\r\n                    formData.append('imagen', files);\r\n                \r\n                await clienteAxios.post('/blog/', formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        Authorization: `bearer ${token}`\r\n                    }\r\n                }).then((res) => {\r\n                    console.log(res);\r\n                        notification.success({\r\n                            message: 'Registro exitoso',\r\n                            description: res.data.message,\r\n                          })\r\n                          setReloadBlog(true);\r\n                          setVisible(false);  \r\n                })\r\n                .catch((err) => {   \r\n                    console.log(err.response);                 \r\n                    setAccion(true);\r\n                    if(err.response.status === 500 || err.response.status === 404){\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: err.response.data.message,\r\n                          })\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: \"Parece que algo salio mal, favor de intentarlo de nuevo\",\r\n                          })\r\n                    }\r\n                });\r\n            }\r\n    }\r\n    //Funcion que quita los espacios y los remplasa por guiones\r\n    function obtenerUrl(text){\r\n        const trim = text.trim();\r\n        const datos = trim.split(\" \");\r\n        console.log(datos.length);\r\n        for(var i = 0; i < datos.length; i++ ){\r\n            if(datos.length - 1 === i){\r\n                urlGuion += datos[i];\r\n            }else{\r\n                urlGuion += datos[i]+\"-\";\r\n            }\r\n        }\r\n        return urlGuion;\r\n    }\r\n\r\n    //Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n                setFiles(file);\r\n            };\r\n            setUpload(true)\r\n\t\t\treturn false;\r\n        },\r\n        onRemove: (file) => {\r\n            setUpload(false)\r\n            setFiles([]);\r\n        }\r\n    };\r\n\r\n    //Funcion que escucha la variable que trae la informacion del blog\r\n\r\n    const capturarInfoEditor = (content, editor) => {\r\n        setBlogData({...blogData, descripcion: content})\r\n      }\r\n      \r\n\r\n    return (\r\n        <div className=\"formulario-blog\">\r\n            <Form \r\n                name=\"nest-messages\"\r\n                {...layout}\r\n                onFinish={processPost}\r\n            >\r\n                <Form.Item label=\"Crea un título llamativo: \"  onChange={ e => setBlogData({ ...blogData, nombre: e.target.value }) }>\r\n                    <Form.Item rules={[{ required: true, message: 'Titulo obligatorio' }]}  noStyle name=\"nombre\" >\r\n                        <Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\"  />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Autor: \" onChange={ e => setBlogData({ ...blogData, administrador: e.target.value })}>\r\n                    <Form.Item rules={[{ required: true, message: 'Autor obligatorio' }]} noStyle name=\"administrador\">\r\n                        <Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n                <Form.Item label=\"Url (Campo unico) \" onChange={ e => {\r\n                    setAccion(false);\r\n                    setBlogData({ ...blogData, url: e.target.value })\r\n                } }>\r\n                    <Form.Item rules={[{ required: true, message: 'La url es obligatoria' }]} noStyle name=\"url\">\r\n                        <Input name=\"url\" placeholder=\"Url del blog\" />\r\n                    </Form.Item>\r\n                </Form.Item>\r\n\r\n                \r\n                <Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n                    <Editor\r\n                    value={blogData.descripcion ? blogData.descripcion : \"\"}\r\n                        disabled={false}\r\n                        init={{\r\n                            height: 450,\r\n                            menubar: true,\r\n                            plugins: [\r\n                                'advlist autolink lists link image charmap print preview anchor',\r\n                                'searchreplace visualblocks code fullscreen',\r\n                                'insertdatetime media table paste code help wordcount'\r\n                            ],\r\n                            toolbar:\r\n                                'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n                        }}\r\n                        onEditorChange={capturarInfoEditor}\r\n                    />\r\n                </Form.Item>\r\n                <div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n                <Form.Item label=\"Imagen principal del Blog:\">\r\n                    <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                            <UploadOutlined /> Subir\r\n                        </Button>\r\n                    </Upload>\r\n                </Form.Item>\r\n                <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n                        Guardar\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Col, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss'\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerClientes(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagen}`} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\tfixed: 'left',\r\n\t\t\trender: (nombre) => <p>{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p>-</p> : <p>{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p>{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20}/>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Carousel from 'react-bootstrap/Carousel';\r\nimport './ofertas.scss';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction CarouselOfertas(props) {\r\n\tconst [ index, setIndex ] = useState(0);\r\n\tconst [ carousels, setCarousels ] = useState([]);\r\n\tconst [ esPromocion, setEsPromocion ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst obtenerCarousel = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/carousel/limite')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t});\r\n\t\t};\r\n\t\tconst obtenerPromociones = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/productos/promocion/carousel')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tif (res.data.length === 0) {\r\n\t\t\t\t\t\tsetEsPromocion(false);\r\n\t\t\t\t\t\tobtenerCarousel();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetEsPromocion(true);\r\n\r\n\t\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t});\r\n\t\t};\r\n\t\tobtenerPromociones();\r\n\t}, []);\r\n\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\r\n\tconst render = carousels.map((carousel) => {\r\n\t\treturn (\r\n\t\t\t<Carousel.Item key={carousel._id}>\r\n\t\t\t\t<div className=\"carousel-home\">\r\n\t\t\t\t\t<div className=\"background-carousel\" style={{\r\n\t\t\t\t\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${esPromocion\r\n\t\t\t\t\t\t\t? carousel.imagenPromocion\r\n\t\t\t\t\t\t\t: carousel.imagen})`\r\n\t\t\t\t\t}}/>\r\n\t\t\t\t\t<div className=\"contenedor-imagen-principal-promociones\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tonClick={() => props.history.push(`/vista_producto/${esPromocion\r\n\t\t\t\t\t\t\t\t? carousel.productoPromocion._id\r\n\t\t\t\t\t\t\t\t: carousel.producto._id}`)}\r\n\t\t\t\t\t\t\tclassName=\"imagen-carousel-promociones-principal\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${esPromocion\r\n\t\t\t\t\t\t\t\t? carousel.imagenPromocion\r\n\t\t\t\t\t\t\t\t: carousel.imagen}`}\r\n\t\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\t\tstyle={{cursor: 'pointer'}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Carousel.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Carousel activeIndex={index} onSelect={handleSelect}>\r\n\t\t\t{render}\r\n\t\t</Carousel>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Col, Row, Spin, notification, Result } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './productos.scss';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(window.screen.width < 768){\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t}else{\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\t\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7', minHeight: 100}}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={window.screen.width < 768 ? 12 : 40} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, Result, Col, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './ofertas.scss'\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction OfertasHome(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${12}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n{/* <div className=\"contenedor-card-ofertas\" key={productos._id}> */}\r\n\tconst render = productos.map((productos) => (\r\n\t\t\r\n\t\t<Col key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgrounddivor: '#F7F7F7' }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos\r\n\t\t\t\t\t\t\t\t\t\t.productoPromocion.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">${formatoMexico(productos.productoPromocion.precio)}</h2>\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">${formatoMexico(productos.precioPromocion)}</h2>\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"principal-ofertas\">APROVECHA NUESTROS DESCUENTOS!</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"d-flex justify-content-center pb-5\">\r\n                <Link to=\"/ofertas\" style={{fontSize: 26}}>Ver Todas las ofertas</Link>\r\n            </div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(OfertasHome);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Geolocalizacion from '../geolocalizacion';\r\nimport './informacion.scss';\r\n\r\nimport { Divider } from 'antd';\r\nimport { FacebookFilled, InstagramFilled, TwitterCircleFilled } from '@ant-design/icons';\r\n\r\nexport default function Datos_tienda() {\r\n\tconst [ tienda, setTienda ] = useState({});\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ infor, setInfo ] = useState('');\r\n\r\n\tfunction peticionTienda() {\r\n\t\tclienteAxios\r\n\t\t\t.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTienda(res.data[0]);\r\n                setInfo(res.data[0].nombre);\r\n                setDireccion(res.data[0].direccion[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log('No funciona');\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpeticionTienda();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{infor !== '' ? (\r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<div className=\"principal-productos\">ENCUENTRA NUESTRA TIENDA</div>\r\n\t\t\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\theight=\"38vh\"\r\n\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\tcenter={[ tienda.ubicacion[0].lat, tienda.ubicacion[0].lng ]}\r\n\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\tnombreMarcador={tienda.nombre}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col-lg-2 text-center caligra\">\r\n\t\t\t\t\t\t\t<div className=\"m-3\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"logotipo\"\r\n\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\"> {tienda.nombre} </p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tTel: <span className=\"subs h6\">{tienda.telefono}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tDireccion: <span className=\"h6\">{direccion.calle_numero}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCol.{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.estado}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCP: <span>{direccion.cp}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t\tnotification['success']({\r\n\t\t\t\t\tmessage: 'Bienvenido!',\r\n\t\t\t\t\tdescription: 'Te has registrado correctamente',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification['error']({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification['error']({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\" >\r\n\t\t\t\t\t<Form.Item name=\"nombre\" rules={[ { required: true, message: 'El nombre es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\" >\r\n\t\t\t\t\t<Form.Item name=\"apellido\" noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"repeatContrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button } from 'antd';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tprops.history.push('/admin');\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tAcceder\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconsole.log(user.photoURL)\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\tnotification['success']({\r\n\t\t\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\t\t\tnotification['error']({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnotification['error']({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","export default {\r\n    apiKey: \"AIzaSyBXX7Q1VZ0CRwxmMEeDZl7VRQXs6QA9xuo\",\r\n    authDomain: \"tienda-online-ab.firebaseapp.com\",\r\n    databaseURL: \"https://tienda-online-ab.firebaseio.com\",\r\n    projectId: \"tienda-online-ab\",\r\n    storageBucket: \"tienda-online-ab.appspot.com\",\r\n    messagingSenderId: \"128072940368\",\r\n    appId: \"1:128072940368:web:87db0912b8ff3c12de0a55\",\r\n    measurementId: \"G-WLSRDXGF7X\"\r\n  };","import React, { useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"text-center mb-4 mt-4\">\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs className=\"shadow col-12 col-lg-4 bg-white rounded\" defaultActiveKey=\"1\">\r\n                    <TabPane tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p >Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n    }\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tconsole.log(res.response);\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Form, Divider, notification, Spin, Input, Row, Col } from 'antd';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 10 }\r\n};\r\n\r\nexport default function DatosCliente(props) {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst { token, clienteID } = props;\r\n\tconst [ controlBoton, setControlBoton ] = useState(true);\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${clienteID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n                if(res.data.direccion.length !== 0){\r\n                    form.setFieldsValue({\r\n                        nombre: res.data.nombre,\r\n                        apellido: res.data.apellido,\r\n                        email: res.data.email,\r\n                        telefono: res.data.telefono,\r\n                        calle_numero: res.data.direccion[0].calle_numero,\r\n                        entre_calles: res.data.direccion[0].entre_calles,\r\n                        cp: res.data.direccion[0].cp,\r\n                        colonia: res.data.direccion[0].colonia,\r\n                        ciudad: res.data.direccion[0].ciudad,\r\n                        estado: res.data.direccion[0].estado,\r\n                        pais: res.data.direccion[0].pais\r\n                    });\r\n                }else{\r\n                    form.setFieldsValue({\r\n                        nombre: res.data.nombre,\r\n                        apellido: res.data.apellido,\r\n                        email: res.data.email,\r\n                        telefono: res.data.telefono,\r\n                        calle_numero: '',\r\n                        entre_calles: '',\r\n                        cp: '',\r\n                        colonia: '',\r\n                        ciudad: '',\r\n                        estado: '',\r\n                        pais: ''\r\n                    });\r\n                }\r\n\t\t\t\t\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function editarDatos(valores) {\r\n\t\tif (controlBoton) {\r\n\t\t\tsetControlBoton(false);\r\n\t\t} else {\r\n            setLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/cliente/${clienteID}`, valores, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1000);\r\n                    setLoading(false);\r\n\t\t\t        setControlBoton(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${res.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatosUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading} className=\"border\">\r\n\t\t\t<Form {...layout} form={form} onFinish={editarDatos}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre\" name=\"nombre\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Apellido\" name=\"apellido\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Email\" name=\"email\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Telefono\" name=\"telefono\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"telefono\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Divider>Datos de envío</Divider>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Calle y numero\" name=\"calle_numero\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y numero de calle\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Entre calles\" name=\"entre_calles\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Código postal\" name=\"cp\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Colonia\" name=\"colonia\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Ciudad\" name=\"ciudad\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Estado\" name=\"estado\" >\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Pais\" name=\"pais\" >\r\n\t\t\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button htmlType=\"submit\" type=\"primary\" size=\"large\" style={{ width: 150 }} >\r\n\t\t\t\t\t\t{controlBoton ? 'Editar' : 'Guardar'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Divider, Alert } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\nimport DatosCliente from '../Vista_Producto/subs/datos_cliente';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n            AgregarApartado(cliente._id, carrito.idarticulo._id, carrito.cantidad, carrito.medida, tipoEnvio, token, carrito.idarticulo.tipoCategoria);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonOk={handleOk}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tcancelText=\"Cancelar\"\r\n\t\t\tokText=\"Apartar\"\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6 className=\"d-inline\">Porducto: </h6>\r\n\t\t\t\t\t\t<p className=\"d-inline\">{carrito.idarticulo.nombre}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Talla: </h6>\r\n\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<p key={res._id} className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<p key={res._id} className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6 className=\"d-inline\">Cantidad: </h6>\r\n\t\t\t\t\t\t<p className=\"d-inline\">{carrito.cantidad}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(carrito.promocion.precioPromocion)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6>Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona uno\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envio por paqueteria</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tdescription=\"Para apartar un producto necesitas tener completos tus datos\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${carrito.idarticulo\r\n\t\t\t\t\t\t\t\t.imagen}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t<DatosCliente token={token} clienteID={cliente._id} tipoEnvio={tipoEnvio} />\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisponible('')\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tcarrito.idarticulo.tallas.forEach((tallas) => {\r\n\t\t\t\tif (carrito.medida) {\r\n\t\t\t\t\tcarrito.medida.forEach((medida) => {\r\n\t\t\t\t\t\tif (medida.talla === tallas.talla) {\r\n\t\t\t\t\t\t\tsetMedida([ medida.talla, tallas.cantidad ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(tallas.cantidad === 0){\r\n\t\t\t\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t\t\t\tsetValidateStatus('validating');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tcarrito.idarticulo.numeros.forEach((numeros) => {\r\n\t\t\t\tconsole.log(numeros)\r\n\t\t\t\tif (carrito.medida) {\r\n\t\t\t\t\tcarrito.medida.forEach((medida) => {\r\n\t\t\t\t\t\tif (medida.numero === numeros.numero) {\r\n\t\t\t\t\t\t\tsetMedida([ medida.numero, numeros.cantidad ]);\r\n\t\t\t\t\t\t\tif(numeros.cantidad === 0){\r\n\t\t\t\t\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t\t\t\t\tsetValidateStatus('validating');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t}\r\n\r\n\t\tif (carrito.promocion) {\r\n\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t} else {\r\n\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t}\r\n\t}, [ carrito, setValidacion ]);\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidateStatus('validating');\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${carrito.idarticulo\r\n\t\t\t\t\t\t\t\t.imagen}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3>{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Categoria: {carrito.idarticulo.categoria}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Género: {carrito.idarticulo.genero}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Color: {carrito.idarticulo.color}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: carrito.idarticulo.colorHex, height: 30, width: 30 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.talla ? res.talla : res.numero;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito\">${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} />Comprar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExportOutlined style={styles} />Apartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Spin, Button, message, Result } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif(res.promocion){\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal bg-dark\">Bievenido a tu carrito {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(total)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Comprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {Spin,notification} from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\n\r\nimport {List} from 'antd'\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify'\r\nimport './BlogList.scss';\r\n\r\n\r\nexport default function BlogList(props) {\r\n\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    const [loading, setLoading] = useState(false)\r\n    const [blogs, setBlogs] = useState([])\r\n\r\n\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getBlogsApi(10,page)\r\n    }, [page])\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading} >\r\n            <div  id=\"blog\" className=\"container\">\r\n                <h1 className=\"text-center p-3\">Nuestro Blog!</h1>\r\n                <div className=\"container-fluid bg-white shadow-lg\">\r\n                    <div id=\"cards\">\r\n                        <BlogsList2 \r\n                            blogs={blogs} \r\n                            setLoading={setLoading}\r\n                        />\r\n                    </div>\r\n\r\n                    <Pagination \r\n                        blogs={blogs} \r\n                        location={location}  \r\n                        history={history}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n\r\n}\r\n\r\nfunction BlogsList2 (props){\r\n    const {blogs} = props;\r\n\r\n\r\n    return (\r\n        <div>\r\n            <List className=\"p-3\"\r\n                    itemLayout=\"vertical\"\r\n                    size=\"large\"\r\n                    dataSource={blogs.docs}\r\n                    renderItem={blog => \r\n                        <Blog blog={blog} />\r\n                    }\r\n                />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Blog(props){\r\n\r\n    const {blog} = props;\r\n\r\n    return(\r\n        <Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n            <List.Item \r\n                className=\"blogList__lista list-hover  mb-5\"\r\n                key={blog.nombre}\r\n                extra={\r\n                <div className=\"contenedor-imagen-blog-list\">\r\n                    <img\r\n                        className=\"imagen-blog-list\"\r\n                        alt={blog.nombre}\r\n                        src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${blog.imagen}`}\r\n                    />\r\n                </div>\r\n                }\r\n            >\r\n                <List.Item.Meta title={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>} description={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}/>\r\n                    {\r\n                        <div>\r\n                            <div\r\n                                className={'blogList__content-description m-0'}\r\n                                dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n                            />\r\n                            <p>Leer mas</p>\r\n                        </div>\r\n                    }\r\n            </List.Item>\r\n        </Link>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Spin } from 'antd';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen}`} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider,Col,Card,Result } from 'antd';\r\nimport {formatoFecha,formatoMexico} from '../../../config/reuserFunction';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\nconst { Meta } = Card;\r\n\r\n\r\nconst DetallesPedido = (props) => {\r\n\r\n\tconst {detallePedido} = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id}  </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)}  </p>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? \"\":(\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">El pedido esta:</h6>\r\n\t\t\t\t\t\t<p>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={detallePedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? \r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : \r\n\t\t\t\t\t\t\t(<p className=\"text-success my-2\">Pedido realizado</p>)}\t\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 \">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ { formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\t\t\t<div className=\"row\" >\r\n\t\t\t\t{detallePedido.pedido.map((producto) => <Producto producto={producto} />)}\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t{detallePedido.pagado === false ? \"\": (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{fontSize:\"50px\"}} />}\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t\t<p> {`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente.direccion[0].colonia} ${detallePedido.cliente.direccion[0].ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente.direccion[0].pais}.`} </p>\r\n\t\t\t\t\t\t\t\t\t<p> {`Referencia: ${detallePedido.cliente.direccion[0].entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`} </p>\r\n\t\t\t\t\t\t\t\t\t<p> <span className=\"font-weight-bold\">Codigó de seguimiento: </span></p>\r\n\t\t\t\t\t\t\t\t\t<p><a href={`${detallePedido.url}${detallePedido.codigo_seguimiento}`} target=\"_blank\"> {detallePedido.codigo_seguimiento} </a></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ { formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props){\r\n\r\n\tconst {producto} = props;\r\n\r\n\treturn(\r\n\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t\t<Link to={`/vista_producto/${producto.producto._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable\r\n\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.producto.imagen}`} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta \r\n\t\t\t\t\t\t\ttitle={producto.producto.nombre} \r\n\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(producto.producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DetallesPedido;","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del Apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del Apartado: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de apartado:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tu apartdo esta:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#f0ad4e'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<Producto producto={detalleApartado.producto} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de Apartado</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">\r\n\t\t\t\t\tTotal: $ {formatoMexico(detalleApartado.producto.precio)}\r\n\t\t\t\t</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Link to={`/vista_producto/${producto._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable\r\n\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n                                <img\r\n                                    alt=\"example\"\r\n                                    className=\"imagen-detalle-apartado\"\r\n                                    src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n                                />\r\n                            </div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\tdescription={<h2 className=\"h5 precio-rebaja\">${formatoMexico(producto.precio)}</h2>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Spin, Modal, Tag, Button, List, Result, Tabs } from 'antd';\r\nimport { EditOutlined } from '@ant-design/icons';\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState({});\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerPedidos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token === '' || token === null) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t} else {\r\n\t\t\tobtenerPedidos();\r\n\t\t\tobtenerApartados();\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetPedidos([]);\r\n\t\t\tsetshowInfo(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className=\"text-center m-3\">Mis Compras</h4>\r\n\t\t\t\t<Tabs className=\"shadow bg-white rounded\" defaultActiveKey=\"1\" type=\"card\" size=\"large\">\r\n\t\t\t\t\t<TabPane tab=\"Mis compras\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Mis apartados\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowModal(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List.Item\r\n\t\t\t\tkey={pedido._id}\r\n\t\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top \"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t\t<Tag className=\"ml-2\" color={pedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center my-3\"\r\n\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<p>Pedido del producto sdsdsdsd</p>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${pedido.pedido[0]\r\n\t\t\t\t\t\t\t\t\t.producto.imagen}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\tProductos de la compra:{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">La compra esta:</span>\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor={pedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Pedido el:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t): \"\"}\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 text-primary\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\tMensaje de la tienda:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</List.Item>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Apartado(props) {\r\n\tconst { apartado, showModal, setDetalleApartado, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List.Item\r\n\t\t\t\tkey={apartado._id}\r\n\t\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top \"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tDetalle del apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.producto.precio)} </span>{' '}\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center my-3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<p>Pedido del producto sdsdsdsd</p>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-mostrar-apartado\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-mostrar-apartado\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${apartado.producto\r\n\t\t\t\t\t\t\t\t\t\t.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(apartado.producto.precio)}{' '}\r\n\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'Envio por paqueteria'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Recoger a sucursal'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Pedido el:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#f0ad4e'\r\n\t\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={`${apartado.url}${apartado.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 text-primary\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\tMensaje de la tienda:\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</List.Item>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, Result, Col, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './ofertas.scss';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n            obtenerProductos(40, page);\r\n            window.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n{/* <div className=\"contenedor-card-ofertas\" key={productos._id}> */}\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgrounddivor: '#F7F7F7' }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos\r\n\t\t\t\t\t\t\t\t\t\t.productoPromocion.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">${formatoMexico(productos.productoPromocion.precio)}</h2>\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">${formatoMexico(productos.precioPromocion)}</h2>\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"principal-ofertas\">APROVECHA NUESTROS DESCUENTOS!</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Col, Row, Spin, notification, Result } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nconst formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn number.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tfunction agregarPorcentaje(precio_descuento, precio_producto) {\r\n\t\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\t\tvar descuento = 100 - porcentaje;\r\n\t\treturn descuento;\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id}>\r\n\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 22, backgroundColor: '#F7F7F7'}}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4\">\r\n\t\t\t\t{productos.length} Resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={4} style={{ maxWidth: '90vw' }} className=\"mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React,{useCallback,useEffect,useState, useContext} from 'react'\r\nimport {Form,Input,Divider,Button,Avatar,notification,Upload} from 'antd'\r\nimport {useDropzone} from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n    const { active, setActive } = useContext(MenuContext);\r\n    const {datosUser,decoded,token,setLoading,setAccion} = props;\r\n\r\n    const [avatar, setAvatar] = useState(null);\r\n    const [enviarFile, setEnviarFile] = useState([]);\r\n    const [datosFormulario, setdatosFormulario] = useState({});\r\n\r\n    const [password, setPassword] = useState({});\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const mostrarDatosUser = (e) => {\r\n        form.setFieldsValue(e)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(datosUser !== null){\r\n            console.log(decoded.imagen);\r\n            if(decoded.imagen){\r\n                \r\n                setAvatar({preview:`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`})\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [datosUser])\r\n\r\n    useEffect(() => {\r\n        console.log(datosUser);\r\n        if(datosUser !== null){\r\n            let direccion = {};\r\n            if(datosUser.direccion.length > 0){\r\n                direccion =  datosUser.direccion[0];\r\n            }\r\n            \r\n            mostrarDatosUser({\r\n                nombre: datosUser.nombre,\r\n                apellido: datosUser.apellido,\r\n                email: datosUser.email,\r\n                telefono: datosUser.telefono,\r\n                calle_numero: direccion.calle_numero,\r\n                entre_calles: direccion.entre_calles,\r\n                cp: direccion.cp,\r\n                colonia: direccion.colonia,\r\n                ciudad: direccion.ciudad,\r\n                estado: direccion.estado,\r\n                pais: direccion.pais, \r\n            })\r\n            setdatosFormulario({\r\n                nombre: datosUser.nombre,\r\n                apellido: datosUser.apellido,\r\n                email: datosUser.email,\r\n                telefono: datosUser.telefono,\r\n                calle_numero: direccion.calle_numero,\r\n                entre_calles: direccion.entre_calles,\r\n                cp: direccion.cp,\r\n                colonia: direccion.colonia,\r\n                ciudad: direccion.ciudad,\r\n                estado: direccion.estado,\r\n                pais: direccion.pais, \r\n            })\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [datosUser])\r\n\r\n    async function enviarDatosUser(){\r\n        \r\n        const formData = new FormData();\r\n\r\n        if(password.contrasenaActual){\r\n            if(password.contrasena && password.repeatContrasena){\r\n                if(password.contrasena ===  password.repeatContrasena ){\r\n                    formData.append('contrasena', password.contrasena);\r\n                    formData.append('repeatContrasena', password.repeatContrasena);\r\n                    formData.append('contrasenaActual', password.contrasenaActual);\r\n                }else{\r\n                    notification.error({\r\n                        message: 'Error',\r\n                        description: 'Las contrasenas no son iguales',\r\n                        duration: 2\r\n                    });\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        formData.append('nombre', datosFormulario.nombre);\r\n        formData.append('apellido', datosFormulario.apellido);\r\n        formData.append('email', datosFormulario.email);\r\n        formData.append('telefono', datosFormulario.telefono);\r\n        formData.append('calle_numero', datosFormulario.calle_numero);\r\n        formData.append('entre_calles', datosFormulario.entre_calles);\r\n        formData.append('cp', datosFormulario.cp);\r\n        formData.append('colonia', datosFormulario.colonia);\r\n        formData.append('ciudad', datosFormulario.ciudad);\r\n        formData.append('estado', datosFormulario.estado);\r\n        formData.append('pais', datosFormulario.pais);\r\n\r\n\r\n        if(decoded.tipoSesion === \"APIRestAB\"){\r\n            formData.append('imagen', enviarFile);\r\n        }\r\n        setAccion(true);\r\n        await clienteAxios.put(`/cliente/${decoded._id}`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                 Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setTimeout(() => {\r\n                localStorage.removeItem('token');\r\n                localStorage.setItem('token', res.data.token);\r\n                /* window.location.reload(); */\r\n                setActive(!active);\r\n                const decoded = jwt_decode(res.data.token)\r\n                setAvatar({preview:`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${decoded.imagen}`});\r\n            },1000)\r\n            setLoading(false)\r\n            console.log(res);\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n        })\r\n        .catch((res) => {\r\n            console.log(res.response);\r\n            setLoading(false);\r\n            if(res.response.status === 404 || res.response.status === 500){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: `${res.response.data.message}`,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Error de conexion',\r\n                    duration: 2\r\n                });\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n      if(decoded === null){\r\n          return null\r\n      }\r\n\r\n      const datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n    };\r\n    \r\n    const datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n    return (\r\n        <div>\r\n            <Form \r\n                layout=\"horizontal\"\r\n                size={\"large\"}\r\n                form={form}\r\n                onFinish={enviarDatosUser}\r\n            >\r\n                {decoded.tipoSesion !== \"APIRestAB\" ? (\r\n                    <div>\r\n                        <div className=\"upload-user-perfil\">\r\n                        <img\r\n                            className=\"rounded-circle\"\r\n                            alt=\"logotipo-tienda\"\r\n                            src={decoded.imagenFireBase}\r\n                            style={{width:\"200px\"}}\r\n                        />\r\n                        </div>\r\n                    </div>\r\n                ) : \r\n                (\r\n                    <UploadAvatar avatar={avatar} setAvatar={setAvatar} nombre={decoded.nombre} setEnviarFile={setEnviarFile} />\r\n                ) }\r\n                    \r\n\r\n                    <Divider style={{fontSize: 22}}>Información Personal</Divider>\r\n                    \r\n                    <h5>Nombre:</h5>\r\n                    <Form.Item name=\"nombre\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Nombre obligatorio' }]}  noStyle name=\"nombre\" >\r\n                            <Input name=\"nombre\" a placeholder=\"Nombre\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>Apellidos:</h5>\r\n                    <Form.Item name=\"apellido\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Apellidos obligatorios' }]}  noStyle name=\"apellido\" >\r\n                            <Input name=\"apellido\" a placeholder=\"Apellidos\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n\r\n                    <h5>Email:</h5>\r\n                    <Form.Item name=\"email\" onChange={datosForm}  >\r\n                        <Form.Item rules={[{ required: true, message: 'Correo electronico obligatorio' }]}  noStyle name=\"email\" >\r\n                            <Input name=\"email\" a placeholder=\"Correo electronico\" disabled  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n\r\n                    <h5>Telefono:</h5>\r\n                    <Form.Item name=\"telefono\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Telefono obligatorio' }]}  noStyle name=\"telefono\" >\r\n                            <Input name=\"telefono\" a placeholder=\"+52 3171234567\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <Divider className=\"mt-5\" style={{fontSize: 22}}>Datos domiciliarios</Divider>\r\n                    \r\n                    <h5>Direccion:</h5>\r\n                    <Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Direccion obligatoria' }]}  noStyle name=\"calle_numero\" >\r\n                            <Input name=\"calle_numero\" a placeholder=\"Calle y numero de calle\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n\r\n                    <h5>Referencia:</h5>\r\n                    <Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Referencia obligatoria' }]}  noStyle name=\"entre_calles\" >\r\n                            <Input name=\"entre_calles\" a placeholder=\"Calles de referencia\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>Codigo postal:</h5>\r\n                    <Form.Item name=\"cp\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Codigo postal obligatorio' }]}  noStyle name=\"cp\" >\r\n                            <Input name=\"cp\" a placeholder=\"Codigo Postal\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>Colonia:</h5>\r\n                    <Form.Item name=\"colonia\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Colonia obligatoria' }]}  noStyle name=\"colonia\" >\r\n                            <Input name=\"colonia\" a placeholder=\"Colonia\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>Ciudad: </h5>\r\n                    <Form.Item name=\"ciudad\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Localidad obligatoria' }]}  noStyle name=\"ciudad\" >\r\n                            <Input name=\"ciudad\" a placeholder=\"Localidad\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>Estado:</h5>\r\n                    <Form.Item name=\"estado\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'Estado obligatoria' }]}  noStyle name=\"estado\" >\r\n                            <Input name=\"estado\" a placeholder=\"Estado\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    <h5>País:</h5>\r\n                    <Form.Item name=\"pais\" onChange={datosForm}>\r\n                        <Form.Item rules={[{ required: true, message: 'País obligatoria' }]}  noStyle name=\"pais\" >\r\n                            <Input name=\"pais\" a placeholder=\"País\"  />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n\r\n                    {decoded.tipoSesion === 'FireBase' ? \"\":(\r\n                        <div>\r\n                            <Divider style={{fontSize: 22}}>Contrasena</Divider>\r\n                            <h5>Contraseña Actual:</h5>\r\n                            <Form.Item name=\"contrasenaActual\" onChange={datosPassword} >\r\n                                <Input.Password name=\"contrasenaActual\"  placeholder=\"Contraseña actual\" />\r\n                            </Form.Item>\r\n                            <h5>Contraseña:</h5>\r\n                            <Form.Item name=\"contrasena\" onChange={datosPassword} >\r\n                                <Input.Password name=\"contrasena\"  placeholder=\"Contraseña\" />\r\n                            </Form.Item>\r\n                            <h5>Confirmar Contraseña:</h5>\r\n                            <Form.Item name=\"repeatContrasena\" onChange={datosPassword} >\r\n                                <Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n                            </Form.Item>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"d-flex justify-content-center pb-3\">\r\n                        <Button htmlType=\"submit\" type=\"primary\" size=\"large\" style={{width: 150, fontSize: 20}}>\r\n                            Guardar\r\n                        </Button>\r\n                    </div>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction UploadAvatar(props){\r\n    const {avatar,setAvatar,nombre,setEnviarFile} = props; \r\n\r\n    \r\n\r\n    const onDrop = useCallback(\r\n        acceptedFiles => {\r\n            const file = acceptedFiles[0];\r\n            setAvatar({file,preview: URL.createObjectURL(file)})\r\n            setEnviarFile(file)\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      }, [setAvatar])\r\n\r\n      const {getRootProps, getInputProps, isDragActive} = useDropzone({\r\n          accept: \"image/jpg, image/png, image/jpeg\",\r\n          noKeyboard: true,\r\n          onDrop\r\n      })\r\n\r\n\r\n      return(\r\n          <div>\r\n              <Divider className=\"\" style={{fontSize: 22}}>Imagen de perfil</Divider>\r\n              <div className=\"upload-user-perfil\" {...getRootProps()}>\r\n                <input {...getInputProps()} />\r\n                    {isDragActive ? (\r\n                            <Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n                                <p className=\"\" style={{fontSize: 150}}>{nombre.charAt(0)}</p>\r\n                            </Avatar>\r\n                        ) : avatar ? (\r\n                            <Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n                                <p style={{fontSize: 150}}>{nombre.charAt(0)}</p>\r\n                            </Avatar>\r\n                        ) : (\r\n                            <Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n                                <p style={{fontSize: 150}}>{nombre.charAt(0)}</p>\r\n                            </Avatar>\r\n                        )}\r\n\r\n                </div>\r\n          </div>\r\n\r\n      )\r\n}\r\n","import React,{useCallback,useEffect,useState} from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport {Form, Input, Button,Result,Spin,notification} from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nimport \"../confirmacion.scss\";\r\n\r\nexport default function Traer_datos(props) {\r\n\r\n    const {datosUser,decoded,setCurrent,current,setDatosActualizados,token} = props;\r\n    const [datosFormulario, setdatosFormulario] = useState({});\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const mostrarDatosUser = (e) => {\r\n        form.setFieldsValue(e)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(datosUser !== null){\r\n            let direccion = {};\r\n            if(datosUser.direccion.length > 0){\r\n                direccion =  datosUser.direccion[0];\r\n            }\r\n            mostrarDatosUser({\r\n                nombre: datosUser.nombre,\r\n                apellido: datosUser.apellido,\r\n                telefono: datosUser.telefono,\r\n                calle_numero: direccion.calle_numero,\r\n                entre_calles: direccion.entre_calles,\r\n                cp: direccion.cp,\r\n                colonia: direccion.colonia,\r\n                ciudad: direccion.ciudad,\r\n                estado: direccion.estado,\r\n                pais: direccion.pais, \r\n            })\r\n            setdatosFormulario({\r\n                nombre: datosUser.nombre,\r\n                apellido: datosUser.apellido,\r\n                email: datosUser.email,\r\n                telefono: datosUser.telefono,\r\n                calle_numero: direccion.calle_numero,\r\n                entre_calles: direccion.entre_calles,\r\n                cp: direccion.cp,\r\n                colonia: direccion.colonia,\r\n                ciudad: direccion.ciudad,\r\n                estado: direccion.estado,\r\n                pais: direccion.pais, \r\n            })\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [datosUser])\r\n\r\n\r\n    async function enviarDatosUser(){\r\n        \r\n        const formData = new FormData();\r\n\r\n        formData.append('nombre', datosFormulario.nombre);\r\n        formData.append('apellido', datosFormulario.apellido);\r\n        formData.append('email', datosFormulario.email);\r\n        formData.append('telefono', datosFormulario.telefono);\r\n        formData.append('calle_numero', datosFormulario.calle_numero);\r\n        formData.append('entre_calles', datosFormulario.entre_calles);\r\n        formData.append('cp', datosFormulario.cp);\r\n        formData.append('colonia', datosFormulario.colonia);\r\n        formData.append('ciudad', datosFormulario.ciudad);\r\n        formData.append('estado', datosFormulario.estado);\r\n        formData.append('pais', datosFormulario.pais);\r\n\r\n        setLoading(true);\r\n        await clienteAxios.put(`/cliente/${decoded._id}`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                 Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setDatosActualizados(datosFormulario);\r\n            setLoading(false)\r\n            console.log(res);\r\n            setCurrent(current + 1);\r\n        })\r\n        .catch((res) => {\r\n            console.log(res.response);\r\n            setLoading(false);\r\n            if(res.response.status === 404 || res.response.status === 500){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: `${res.response.data.message}`,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Error de conexion',\r\n                    duration: 2\r\n                });\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n      if(decoded === null){\r\n          return null\r\n      }\r\n\r\n      const datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n    };\r\n    \r\n   \r\n    return (\r\n        <Spin spinning={loading} size=\"large\" >\r\n            <div className=\"shadow-lg bg-white rounded\">\r\n                <Form \r\n                    className=\"mt-5\"\r\n                    layout=\"horizontal\"\r\n                    size={\"middle\"}\r\n                    form={form}\r\n                    onFinish={enviarDatosUser}\r\n                >\r\n                        <Result\r\n                            className=\"m-0\"\r\n                            icon={<FontAwesomeIcon icon={faUser} style={{fontSize:\"100px\"}} />}\r\n                            extra={\r\n                                <div className=\"row m-4\">\r\n                                <div className=\"col-lg-12 col-sm-12\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Nombre:</p>\r\n                                            <Form.Item name=\"nombre\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Nombre obligatorio' }]}  noStyle name=\"nombre\" >\r\n                                                    <Input name=\"nombre\" a placeholder=\"Nombre\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Apellidos:</p>\r\n                                            <Form.Item name=\"apellido\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Apellidos obligatorios' }]}  noStyle name=\"apellido\" >\r\n                                                    <Input name=\"apellido\" a placeholder=\"Apellidos\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Telefono:</p>\r\n                                            <Form.Item name=\"telefono\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Telefono obligatorio' }]}  noStyle name=\"telefono\" >\r\n                                                    <Input name=\"telefono\" a placeholder=\"+52 3171234567\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Direccion:</p>\r\n                                            <Form.Item name=\"calle_numero\"  onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Direccion obligatoria' }]}  noStyle name=\"calle_numero\" >\r\n                                                    <Input name=\"calle_numero\" a placeholder=\"Calle y numero de calle\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-4 col-sm-12\">\r\n                                            <p>Referencia:</p>\r\n                                            <Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Referencia obligatoria' }]}  noStyle name=\"entre_calles\" >\r\n                                                    <Input name=\"entre_calles\" a placeholder=\"Calles de referencia\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                    </div>    \r\n        \r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Codigo postal:</p>\r\n                                            <Form.Item name=\"cp\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Codigo postal obligatorio' }]}  noStyle name=\"cp\" >\r\n                                                    <Input name=\"cp\" a placeholder=\"Codigo Postal\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Colonia:</p>\r\n                                            <Form.Item name=\"colonia\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Colonia obligatoria' }]}  noStyle name=\"colonia\" >\r\n                                                    <Input name=\"colonia\" a placeholder=\"Colonia\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-4 col-sm-12\">\r\n                                            <p>Ciudad:</p>\r\n                                            <Form.Item name=\"ciudad\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Localidad obligatoria' }]}  noStyle name=\"ciudad\" >\r\n                                                    <Input name=\"ciudad\" a placeholder=\"Localidad\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>Estado:</p>\r\n                                            <Form.Item name=\"estado\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'Estado obligatoria' }]}  noStyle name=\"estado\" >\r\n                                                    <Input name=\"estado\" a placeholder=\"Estado\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                        <div className=\"col-lg-2 col-sm-12\">\r\n                                            <p>País:</p>\r\n                                            <Form.Item name=\"pais\" onChange={datosForm}>\r\n                                                <Form.Item rules={[{ required: true, message: 'País obligatoria' }]}  noStyle name=\"pais\" >\r\n                                                    <Input name=\"pais\" a placeholder=\"País\"  />\r\n                                                </Form.Item>\r\n                                            </Form.Item>\r\n                                        </div>\r\n                                    </div>    \r\n                                </div>\r\n                            </div>\r\n                            }\r\n                        />\r\n                        <div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n                            <Button type=\"primary\" htmlType=\"submit\" size=\"large\" >\r\n                                Siguiente \r\n                            </Button>\r\n                        </div>\r\n\r\n                </Form>\r\n                \r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {  CardNumberElement,\r\n    CardCvcElement,\r\n    CardExpiryElement,\r\n    Elements,\r\n    useElements,\r\n    useStripe,} from '@stripe/react-stripe-js';\r\nimport {loadStripe} from '@stripe/stripe-js';\r\n\r\nimport {Form,Button,notification,Spin} from 'antd'\r\n\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe('pk_test_51HSsW6EfBIdXK7zjZWtgTBxFdNPEFBGjLuEyDzXOV0ioU2ioEroyct2vkAbTvLjJhiSfgCLrc374gjqp1xEO7yCq00bq3GftdJ');\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm  = (props) => {\r\n    const {prev,setCurrent,current,setIdPago} = props;\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n\r\n    const [name, setName] = useState('');\r\n    const [postal, setPostal] = useState('');\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [typeCard, setTypeCard] = useState('visa')\r\n    const [numbrerCard, setNumbrerCard] = useState('');\r\n    const [dateCard1, setDateCard1] = useState('');\r\n    const [dateCard2, setDateCard2] = useState('');\r\n    const [activeCard, setActiveCard] = useState('')\r\n    const [controlClick, setcontrolClick] = useState(false);\r\n    const [cvvCard, setCvvCard] = useState(\"---\");\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        setTypeCard('visa');\r\n        setNumbrerCard('');\r\n        setActiveCard(\"\");\r\n    }, [])\r\n\r\n    const rotartarjeta = () => {\r\n        if(!controlClick){\r\n            setActiveCard(\"active\");\r\n            setcontrolClick(true)\r\n        }else{\r\n            setActiveCard(\"\");\r\n            setcontrolClick(false)\r\n        }   \r\n    }\r\n\r\n    const cardOnChage = (e) => {\r\n        setActiveCard(\"\");\r\n        if(e.brand === 'visa'){\r\n            setTypeCard('visa')\r\n        }else{\r\n            setTypeCard('mastercard')\r\n        }\r\n        console.log(\"tarjeta\");\r\n        if(!e.complete){\r\n            setNumbrerCard('#### ### - incomplet')\r\n        }else{\r\n            setNumbrerCard('#### #### #### ####')\r\n        }\r\n    }\r\n\r\n    const cardDateOnChange = (e) => {\r\n        setActiveCard(\"\");\r\n        if(e.complete){\r\n            setDateCard2(\"AA\")\r\n        }else{\r\n            setDateCard1(\"MM\")\r\n        }\r\n    }\r\n\r\n    const cvvChange = (e) => {\r\n        console.log(e);\r\n        setActiveCard(\"active\");\r\n        if(e.complete){\r\n            setCvvCard(\"###\");\r\n        }else{\r\n            setCvvCard(\"##-\");\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n\r\n    \r\n        if (!stripe || !elements) {\r\n          // Stripe.js has not loaded yet. Make sure to disable\r\n          // form submission until Stripe.js has loaded.\r\n          return;\r\n        }\r\n    \r\n        const cardElement = elements.getElement(CardNumberElement);\r\n    \r\n        const payload = await stripe.createPaymentMethod({\r\n          type: 'card',\r\n          card: cardElement,\r\n          billing_details: {\r\n            name,\r\n            address: {\r\n              postal_code: postal,\r\n            },\r\n          },\r\n        });\r\n        \r\n       \r\n        if (payload.error) {\r\n            notification.error({\r\n                message: 'Error de conexion',\r\n                description: \"Parece que hubo un error con tu tarjeta.\",\r\n              })\r\n        } else {\r\n          setIdPago(payload.paymentMethod)\r\n          setCurrent(current + 1);\r\n        }\r\n      };\r\n\r\n    return(\r\n        <Spin spinning={!stripe} size=\"large\">\r\n            <div className=\"\">\r\n                    <div className=\"contenedor \">\r\n                        <section className={`tarjeta ${activeCard} d-none d-md-none d-lg-block`} id=\"tarjeta\" onClick={rotartarjeta}>\r\n\r\n                            <div className=\"delantera\">\r\n                                <div className=\"logo-marca\" id=\"logo-marca\">\r\n                                    <img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" /> \r\n                                </div>\r\n                                <img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n                                <div className=\"datos\">\r\n                                    <div className=\"grupo\" id=\"numero\">\r\n                                        <p className=\"label\">Número Tarjeta</p>\r\n                                        <p className=\"numero\"> {numbrerCard} </p>\r\n                                    </div>\r\n                                    <div className=\"flexbox\">\r\n                                        <div className=\"grupo\" id=\"nombre\">\r\n                                            <p className=\"label\">Nombre Tarjeta</p>\r\n                                            <p className=\"nombre\"> {name} </p>\r\n                                        </div>\r\n\r\n                                        <div className=\"grupo\" id=\"expiracion\">\r\n                                            <p className=\"label\">Expiracion</p>\r\n                                            <p className=\"expiracion\"><span className=\"mes\"> {dateCard1} </span> {dateCard1 ? \"/\" : \"\"} <span className=\"year\"> {dateCard2} </span></p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"trasera\">\r\n                                <div className=\"barra-magnetica\"></div>\r\n                                <div className=\"datos\">\r\n                                    <div className=\"grupo\" id=\"firma\">\r\n                                        <p className=\"label\">Firma</p>\r\n                                        <div className=\"firma\"><p>{name}</p></div>\r\n                                    </div>\r\n                                    <div className=\"grupo\" id=\"ccv\">\r\n                                        <p className=\"label\">CCV</p>\r\n                                        <p className=\"ccv\"> {cvvCard} </p>\r\n                                    </div>\r\n                                </div>\r\n                                <p className=\"leyenda\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus exercitationem, voluptates illo.</p>\r\n                                <a href=\"#\" className=\"link-banco\"></a>\r\n                            </div>\r\n\r\n                        </section>\r\n\r\n                        <Form onFinish={handleSubmit} className=\"active mt-5\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-lg-12\">\r\n                                    <label htmlFor=\"cardNumber\">Número Tarjeta</label>\r\n                                    <CardNumberElement\r\n                                        id=\"cardNumber\"\r\n                                        onChange={(e) => cardOnChage(e)}\r\n                                        style={{        \r\n                                            fontSize: '18px',\r\n                                            color: '#424770',\r\n                                            letterSpacing: '0.025em',\r\n                                            '::placeholder': {\r\n                                            color: '#aab7c4',\r\n                                            }}}\r\n                                        className=\"form-control\"\r\n                                        onFocus={() => setActiveCard(\"\")}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-lg-12\">\r\n                                    <label htmlFor=\"name\">Nombre</label>\r\n                                    <input\r\n                                        id=\"name\"\r\n                                        placeholder=\"Nombre del propietario\"\r\n                                        value={name}\r\n                                        onChange={(e) => {\r\n                                        setName(e.target.value);\r\n                                        setActiveCard(\"\");\r\n                                        }}\r\n                                        className=\"form-control\"\r\n                                        onFocus={() => setActiveCard(\"\")}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row mt-3\">\r\n                                <div className=\"col-lg-4 col-sm-12\">\r\n                                    <label htmlFor=\"expiry\">Expiracion</label>\r\n                                    <CardExpiryElement\r\n                                        id=\"expiry\"\r\n                                        onChange={(e) => cardDateOnChange(e)}\r\n                                        className=\"form-control mt-0\"\r\n                                        onFocus={() => setActiveCard(\"\")}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-lg-4 col-sm-12\">\r\n                                    <label htmlFor=\"cvc\">CVC</label>\r\n                                    <CardCvcElement\r\n                                        id=\"cvc\"\r\n                                        onChange={(e) => {cvvChange(e)}}\r\n                                        className=\"form-control mt-0\"\r\n                                        onFocus={() => setActiveCard(\"active\")}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-lg-4 col-sm-12\">\r\n                                    <label htmlFor=\"postal\">Codigo postal</label>\r\n                                    <input\r\n                                        id=\"postal\"\r\n                                        className=\"form-control mt-0\"\r\n                                        placeholder=\"12345\"\r\n                                        value={postal}\r\n                                        onFocus={() => setActiveCard(\"\")}\r\n                                        onChange={(e) => {\r\n                                        setPostal(e.target.value);\r\n                                        setActiveCard(\"\");\r\n                                        \r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                                <Button type=\"primary\" htmlType=\"submit\" onClick={prev}  size=\"large\" disabled={!stripe} className=\"m-1\" >\r\n                                    Volver \r\n                                </Button>\r\n                                <Button type=\"primary\" htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1\" >\r\n                                    Siguiente \r\n                                </Button>\r\n                            </div>\r\n                        </Form>\r\n                    \r\n                    </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}","/* eslint-disable jsx-a11y/alt-text */\r\nimport React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {List, InputNumber, Button} from 'antd'\r\nimport {ShoppingCartOutlined} from '@ant-design/icons';\r\nimport {formatoMexico} from '../../../../config/reuserFunction'\r\n\r\nimport \"../confirmacion.scss\";\r\n\r\n\r\nexport default function Traer_pedido(props) {\r\n    const {datosPedido,pedidoCompleto,datosEnvio,setTotal} = props;\r\n\r\n    return (\r\n        <div>\r\n            {/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n            <div>\r\n            <List \r\n                className=\"p-3\"\r\n                itemLayout=\"horizontal\"\r\n                size=\"large\"\r\n                dataSource={datosPedido}\r\n                renderItem={producto => \r\n                <Productos pedido={producto}/> \r\n                }\r\n            />\r\n            </div>\r\n            <div className=\"d-flex flex-row-reverse px-4 mr-2 mt-3\" >\r\n            <div className=\"px-5 __subs\">\r\n              <p className=\"h5\">Productos ({datosPedido.length})</p>\r\n              {datosEnvio.costoEnvio ? <p className=\"h5\">Costo envio: $ {datosEnvio.costoEnvio} </p> : \"\"}\r\n              {datosEnvio.descuento ? \r\n                pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n                <div>\r\n                  <p className=\"h5\">Descuento de: $ {datosEnvio.descuento}</p>\r\n                  <p className=\"h5\">Total sin descuento: $ {formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)} </p>\r\n                  <p className=\"text-success h6\">El descuento si aplica</p>\r\n                </div>\r\n              ): \r\n              (\r\n                <div>\r\n                  <p className=\"h5\">Total sin descuento: $ {formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)} </p>\r\n                  <p className=\"text-danger h6\">El descuento no aplica</p>\r\n                </div>\r\n              )\r\n              : (\r\n                <div>\r\n                  <p className=\"h5\">Total sin descuento: $ {formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)} </p>\r\n                  <p className=\"text-danger h6\">El descuento no aplica</p>\r\n                </div>\r\n              )}\r\n              \r\n              <p className=\"mt-4 h4 text-success\">Total: $ {datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento) : formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio) : formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)}</p>\r\n            </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nfunction Productos (props) {\r\n    const {pedido} = props;\r\n    return(\r\n\r\n    <List.Item >\r\n      <div className=\"row\">\r\n\r\n        <div className=\"col-lg-7 d-flex justify-content-lg-center\">\r\n          <List.Item.Meta \r\n            avatar={<img className=\"img-fluid\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${pedido.producto.imagen}`} \r\n            height=\"80\" width=\"80\"/>}\r\n            title={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n            description={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n          />\r\n        </div>\r\n      \r\n        <div className=\" col-lg-3\">\r\n          <p className=\"__tupedido\">Cantidad:  {pedido.cantidad}</p> \r\n\r\n          {pedido.producto.tipoCategoria === 'calzado' ? (\r\n            <div>\r\n            <p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n            <p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n            </div>\r\n            ): \"\"}\r\n\r\n          {pedido.producto.tipoCategoria === 'ropa' ? (\r\n            <div>\r\n            <p className=\"__tupedido\">Talla:  {pedido.talla}</p>\r\n            <p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n            </div>\r\n            ): \"\"}\r\n        </div> \r\n        <div className=\" col-lg-2 d-flex flex-row-reverse\" >\r\n          <p style={{fontSize: \"20px\", fontWeight: \"bold\"}}>$ {formatoMexico(pedido.cantidad * pedido.precio)}</p>\r\n        </div>\r\n      </div>\r\n    </List.Item>\r\n\r\n    )\r\n      \r\n  }\r\n\r\n\r\n\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button, Spin } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosPedido, idPago, pedidoCompleto, token, history } = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(pedidoCompleto.cliente.direccion[0]);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tconsole.log(pedidoCompleto.total);\r\n\t\t\t\t\t\tconsole.log(res.data.costoEnvio);\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.log(error.response);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconsole.log(total);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = 100 * parseFloat(total);\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(datosPago);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tconsole.log(error.response);\r\n\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading} size=\"large\">\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t<p className=\"text-center h3\">Direccion de envio</p>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-lg-right text-center \">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-7 col-sm-12 text-left m-0 m-sm-2 \">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP {direccion.cp}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"text-center h3 mt-5\">Informacion de pago</p>\r\n\t\t\t\t\t\t<div className=\"row my-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-lg-right  text-center\">\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2\">\r\n\t\t\t\t\t\t\t\t{console.log(idPago)}\r\n\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span> {idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span> {idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-row-reverse justify-content-center align-items-center text-center pb-3 mr-5\">\r\n\t\t\t\t\t<Button size=\"large\" type=\"primary\" style={{ width: 200, textAlign: 'center' }} onClick={crearPago}>\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> COMPRAR AHORA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect} from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport {useParams} from 'react-router-dom'\r\nimport {Spin,Steps, Button, message,notification} from 'antd';\r\n\r\n\r\nimport Traer_datos from \"./services/traer_datos\";\r\nimport Verificacion_tarjeta from \"./services/Verificacion_Tarjeta\";\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\n\r\n\r\nimport \"./confirmacion.scss\";\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\r\n    const {history} = props;\r\n\r\n    const {url} = useParams();\r\n    const [datosUser, setDatosUser] = useState(null);\r\n    const [ disabled, setDisabled ] = useState(true);\r\n    const [datosPedido, setPedido] = useState([]);\r\n    const [pedidoCompleto, setPedidoCompleto] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [accion, setAccion] = useState(false);\r\n    const [datosActualizados, setDatosActualizados] = useState([]);\r\n    const [idPago, setIdPago] = useState([]);\r\n    const [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\r\n    \t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n    \r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    const next = () => {\r\n        setCurrent(current + 1);\r\n\t};\r\n\r\n    const prev = () => {\r\n        setCurrent(current - 1);\r\n        \r\n\t};\r\n\r\n    async function obtenerDatosUser() {\r\n            if(token === null){\r\n                return null\r\n            }\r\n            await clienteAxios.get(`/pedidos/pedido/${url}`,{\r\n                headers:{\r\n                        Authorization: `bearer ${token}`\r\n                }\r\n            })\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setDatosUser(res.data.cliente);\r\n                setPedido(res.data.pedido);\r\n                setPedidoCompleto(res.data)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            setLoading(false)\r\n        }\r\n\r\n    const steps = [\r\n        {\r\n        title: 'Datos de envio',\r\n        content: (\r\n            <div className=\"\">\r\n                 <Traer_datos \r\n                    datosUser={datosUser} \r\n                    decoded={decoded} \r\n                    setCurrent={setCurrent} \r\n                    current={current} \r\n                    setDatosActualizados={setDatosActualizados} \r\n                    token={token} \r\n                />\r\n            </div>\r\n        ),\r\n        },\r\n        {\r\n        title: 'Datos de compra',\r\n        content: (\r\n            <div>\r\n                <Verificacion_tarjeta \r\n                    setIdPago={setIdPago} \r\n                    prev={prev} \r\n                    setCurrent={setCurrent} \r\n                    current={current}  \r\n                />\r\n            </div>\r\n        ),\r\n        },\r\n        {\r\n        title: 'Comprar',\r\n        content: (\r\n            <div className=\"col-lg-7 mt-4\">\r\n                <Confirmacion_Final \r\n                    idPago={idPago} \r\n                    datosPedido={datosPedido} \r\n                    pedidoCompleto={pedidoCompleto}\r\n                    token={token} \r\n                    history={history}\r\n                /> \r\n            </div>\r\n        ),\r\n        },\r\n    ];\r\n\r\n\r\n       \r\n    useEffect(() => {\r\n        setLoading(true)\r\n        obtenerDatosUser();\r\n\r\n        setAccion(false);\r\n        setDisabled(false);\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      }, [accion])\r\n\r\n\r\n    return (\r\n        <div className=\"\" >\r\n            <div className=\"container prinpales p-3 mt-5\" >\r\n                <div>\r\n                    <div className=\"d-flex justify-content-center m-3\">\r\n                        <div style={{ width: '80%' }}>\r\n                            <Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"steps-content\">\r\n                        <Spin size=\"large\" spinning={loading}>\r\n                            {steps[current].content}\r\n                        </Spin>\r\n                    </div>\r\n{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n                </div>  \r\n            </div>\r\n        </div>\r\n    )\r\n    \r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {Spin} from 'antd'\r\n\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                console.log(res)\r\n                setLoading(false);\r\n                if (res.data[0].politicas !== \"\") {\r\n                    console.log(\"Si hay datos\")\r\n                    setPoliticas(res.data[0].politicas)\r\n                }else{\r\n                    console.log(\"No hay datos\")\r\n                    \r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                console.log(err);\r\n                console.log(\"No funciona\");\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin size=\"large\" spinning={loading} >\r\n            <div className=\"container\">\r\n                <div className=\"m-5\">\r\n                        <h1 className=\"text-center mt-4\">Politicas de Privacidad</h1>\r\n                        <h3 className=\"text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </h3>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas}} className='mt-5 px-4 ' />\r\n                    </div>             \r\n                </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col, Spin } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"titulos-vista-productos\">Tambien te pueden interesar:</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'ropa' && categoriaSugerencia === 'ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'ropa' && categoriaSugerencia === 'calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'ropa' && categoriaSugerencia === 'otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Spin, Button, Select, Card, Form, InputNumber, Modal } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nfunction onlyUnique(value, index, self) {\r\n\treturn self.indexOf(value) === index;\r\n}\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error con las sugerencias',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center titulos-vista-productos\">¡Llevalos juntos!</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${producto.imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Elige una cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${sugerencia.imagen}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Elige una cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerenciaPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerenciaPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerenciaPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidadSugerencia}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulos-vista-productos\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport { Spin } from 'antd';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${res.data.imagen}`,\r\n\t\t\t\t\t\t\tthumbnail: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${res.data.imagen}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((res) => {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${res.url}`,\r\n\t\t\t\t\tthumbnail: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${res.url}`\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagenZoom}`;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagenZoom}`,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\tsrc: `https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${imagenZoom}`,\r\n\t\t\twidth: zoomWidth*1.5,\r\n\t\t\theight: zoomHeight*1.5\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\timageClassName=\"image-gallery-image\"\r\n\t\t\t\tenlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\tenlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\tclassName=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error al añadir un articulo a su carrito',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn notification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Spin, Alert } from 'antd';\r\nimport { ShoppingCartOutlined, TagsOutlined, BellOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport DatosCliente from './datos_cliente';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datosUser, setDatosUser ] = useState([]);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif(!decoded){\r\n\t\t\treturn null\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\tobtenerDatosUser()\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad} style={{ backgroundColor: '#1890FF' }}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad} style={{ backgroundColor: '#1890FF' }}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif(datosUser.telefono.length === 0 || datosUser.direccion.length === 0) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Completa tus datos',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\tApartado();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, tipoEnvio, token);\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p mb-3\">En este momento no hay articulos disponibles</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p-disponible mb-3\">articulos disponibles!</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-block\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<TagsOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\tComprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"mt-3 d-block\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<BellOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\tApartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"mt-3 d-block\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\tAgregar al carrito\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonOk={handleOk}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tcancelText=\"Cancelar\"\r\n\t\t\t\tokText=\"Apartar\"\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Porducto: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">{productos.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline\">Medida: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">{numeros.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline\">Talla: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">{tallas.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"d-inline\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Cantidad: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">{cantidadFinal}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(productos.precio)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={res._id} className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(res.precioPromocion)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6>Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envio por paqueteria</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tdescription=\"Para apartar un producto necesitas tener completos tus datos\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${productos.imagen}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t{ decoded && decoded._id ? <DatosCliente token={token} clienteID={decoded._id} tipoEnvio={tipoEnvio} /> : <div />}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Spin, Avatar } from 'antd';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t<p className=\"titulos-vista-productos text-center\">Encuentra nuestra tienda</p>\r\n\t\t\t<div className=\"text-center\">\r\n\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t<img alt=\"logo-tienda\" src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} className=\"imagen-info-tienda\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{fontSize: 20}}>{tienda.nombre}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\tDirección: {direccion.calle_numero}, Col. {direccion.colonia}, {direccion.ciudad},{' '}\r\n\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\tTelefono: {tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : (\r\n\t\t\t\t<p />\r\n\t\t\t)}\r\n\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t) : (\r\n\t\t\t\t<p />\r\n\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Spin, Alert } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-principal\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 20, marginRight: 10 }} />Envío:{' '}\r\n\t\t\t\t\t\t\t\t\t<strong>${costoEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage={`Si supera $${costoEnvio.promocionEnvio} en su compra, se le descontraran $${costoEnvio.descuento} en su compra`}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t<p style={{fontSize: 20, marginBottom: 10}}>Género:</p>\r\n\t\t\t\t\t\t\t\t<Tag color=\"blue\" style={{fontSize: 16}}>{productos.genero}</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<p style={{fontSize: 20, marginBottom: 5}}>Color: {productos.color}</p>\r\n\t\t\t\t\t\t\t\t<div className=\"rounded-circle ml-2\" style={{ height: 30, width: 30, backgroundColor: productos.colorHex}}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"mb-3\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: 18, textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState } from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\nimport ConsultaProductos from './Productos/consulta_productos';\r\nimport Ofertas from './Ofertas/ofertasHome';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda'\r\n\r\nexport default function Home(props) {\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t<ConsultaProductos propiedades={props} />\r\n            <Ofertas />\r\n            <Datos_tienda />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Spin } from 'antd';\r\n\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                console.log(res)\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    console.log(\"Si hay datos\")\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }else{\r\n                    console.log(\"No hay datos\")\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                console.log(\"No funciona\");\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className=\"container shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container shadow\">\r\n\t\t\t<div style={{ background: 'white' }}>\r\n        <CarritoProvider>\r\n          <MostrarDatosProductos />\r\n        </CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState,useCallback,useEffect} from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport {Spin} from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\n\r\n\r\nexport default function Perfiles(props) {\r\n\r\n    const [datosUser, setDatosUser] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n    const [accion, setAccion] = useState(false)\r\n    \r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== false){\r\n        props.history.push('/')\r\n    }\r\n\r\n      async function obtenerDatosUser() {\r\n            if(token === null){\r\n                return null\r\n            }\r\n            await clienteAxios.get(`/cliente/${decoded._id}`,{\r\n                headers:{\r\n                    'Content-Type': 'multipart/form-data',\r\n                     Authorization: `bearer ${token}`\r\n                }\r\n            })\r\n            .then((res) => {\r\n                setDatosUser(res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n            setLoading(false)\r\n      }\r\n\r\n\r\n      useEffect(() => {\r\n        setLoading(true)\r\n        obtenerDatosUser();\r\n        setAccion(false);\r\n      }, [accion])\r\n\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className=\"container col-lg-6\">\r\n                <h1 className=\"mt-5 text-center\">Bienvenido a tu perfil</h1>\r\n                    <div className=\"mt-3 px-5 mx-auto\" style={{background: \"white\", left: \"50%\"}}>\r\n                        <ActualizarUsuario datosUser={datosUser} decoded={decoded} token={token} setLoading={setLoading} setAccion={setAccion} />\r\n                    </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider, Spin } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${pedido.producto.imagen}`}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>,\r\n                        <Link to={`/confirmacion_compra/${pedidoID}`}>\r\n                            <Button type=\"primary\" ghost className=\"mb-3\">\r\n                                Reintentar\r\n                            </Button>\r\n                        </Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'antd/dist/antd.css'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport routes from './config/routes'\r\nimport {Helmet} from \"react-helmet\";\r\nimport './scss/variables.scss'\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Tienda Online</title>       \r\n      </Helmet>\r\n      <Router>\r\n          <Switch>\r\n            { routes.map((route, index) => (\r\n              <RoutesWithSubRoutes key= {index} {...route} />\r\n            ))}           \r\n          </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n  return (\r\n    <Route \r\n      path={route.path}\r\n      exact={route.exact}\r\n      render={props => <route.component routes={route.routes} {...props}/>}\r\n    />\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}